{
  "test_queries": [
    "looking for kurtas for office",
    "need dresses for party",
    "ethnic wear for festivals",
    "comfortable loungewear",
    "cotton kurta sets for summer",
    "formal sarees for weddings",
    "casual co-ords for daily wear",
    "traditional lehengas for ceremonies"
  ],
  "results": [
    {
      "query": "looking for kurtas for office",
      "method1_result": {
        "status": "error",
        "method": "direct_chatbot_flow",
        "original_query": "looking for kurtas for office",
        "error": "'Kurtas'",
        "total_time": 2.6028263568878174
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "looking for kurtas for office",
        "search_query": "modern square neck kurtas office",
        "groq_filtering": {
          "analysis": "Groq filtering failed, using fallback",
          "error": "Error code: 400 - {'error': {'message': \"Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.\", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\\n   \"selected_indices\": [0, 2, 4, 5, 9],\\n}'}}",
          "fallback_used": true
        },
        "best_match": {
          "score": 0.5155631899833679,
          "text": "modern square neck kurtas office",
          "original_message": "want modern kurtas with square neck for working professionals",
          "result_type": "detailed",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Kurta": {
            "attributes": [
              {
                "attribute_name": "neckline",
                "attribute_description": "The style or shape of the neckline",
                "possible_values": [
                  "square"
                ],
                "weight": 10
              },
              {
                "attribute_name": "style",
                "attribute_description": "The design or fashion style of the kurta",
                "possible_values": [
                  "modern"
                ],
                "weight": 5
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The occasion or purpose the kurta is suited for",
                "possible_values": [
                  "office"
                ],
                "weight": 2
              }
            ]
          },
          "Kurtis": {
            "attributes": [
              {
                "attribute_name": "neckline",
                "attribute_description": "The style or shape of the neckline",
                "possible_values": [
                  "square"
                ],
                "weight": 10
              },
              {
                "attribute_name": "style",
                "attribute_description": "The type of design or pattern",
                "possible_values": [
                  "modern"
                ],
                "weight": 5
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose of the kurta",
                "possible_values": [
                  "office"
                ],
                "weight": 2
              }
            ]
          },
          "Kurta Sets": {
            "attributes": [
              {
                "attribute_name": "neckline",
                "attribute_description": "The style or shape of the neckline",
                "possible_values": [
                  "square"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The intended use or occasion for the garment",
                "possible_values": [
                  "office",
                  "formal"
                ],
                "weight": 5
              },
              {
                "attribute_name": "style",
                "attribute_description": "The aesthetic or design of the garment",
                "possible_values": [
                  "modern"
                ],
                "weight": 2
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Kurta": {
            "The style or shape of the neckline": {
              "value_mapping": {
                "square": {
                  "neckline_style": {
                    "values": []
                  },
                  "neckline_design_details": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "neckline_style",
                "neckline_design_details"
              ]
            },
            "The design or fashion style of the kurta": {
              "value_mapping": {
                "modern": {
                  "silhouette_fit": {
                    "values": []
                  },
                  "yoke_design": {
                    "values": [
                      "embellished"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "silhouette_fit",
                "yoke_design"
              ]
            },
            "The occasion or purpose the kurta is suited for": {
              "value_mapping": {
                "office": {
                  "season_or_occasion": {
                    "values": [
                      "office wear"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "season_or_occasion"
              ]
            }
          },
          "Kurtis": {
            "The style or shape of the neckline": {
              "value_mapping": {
                "square": {
                  "collar_or_neckline_style": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "collar_or_neckline_style"
              ]
            },
            "The type of design or pattern": {
              "value_mapping": {
                "modern": {
                  "print_or_design": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "print_or_design"
              ]
            }
          },
          "Kurta Sets": {
            "The style or shape of the neckline": {
              "value_mapping": {
                "square": {
                  "neckline_style": {
                    "values": [
                      "square neck"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "neckline_style"
              ]
            },
            "The intended use or occasion for the garment": {
              "value_mapping": {
                "office": {
                  "activity_suitability": {
                    "values": [
                      "formal"
                    ]
                  },
                  "suitable_occasion": {
                    "values": []
                  }
                },
                "formal": {
                  "activity_suitability": {
                    "values": [
                      "formal"
                    ]
                  },
                  "suitable_occasion": {
                    "values": [
                      "formal",
                      "formal or festive occasions"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "activity_suitability",
                "suitable_occasion"
              ]
            },
            "The aesthetic or design of the garment": {
              "value_mapping": {
                "modern": {
                  "garment_silhouette": {
                    "values": [
                      "asymmetrical_silhouette"
                    ]
                  },
                  "embellishment_details": {
                    "values": []
                  },
                  "yoke_design_detail": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "garment_silhouette",
                "embellishment_details",
                "yoke_design_detail"
              ]
            }
          }
        },
        "shortlist_results": {
          "Kurta": {
            "6737893687446": 7,
            "8319162450070": 5,
            "8245862105238": 5,
            "7941657690262": 5,
            "7438580252822": 5,
            "7480503173270": 5,
            "8394798071958": 2,
            "8377984974998": 2,
            "8370115575958": 2,
            "8335874850966": 2
          },
          "Kurtis": {
            "8387157491862": 0,
            "8387157590166": 0,
            "8387161325718": 0,
            "8337762287766": 0,
            "8322148565142": 0,
            "8285324705942": 0,
            "8245861384342": 0,
            "8281076039830": 0,
            "8245865152662": 0,
            "8245865250966": 0
          },
          "Kurta Sets": {
            "8351598510230": 15,
            "8335605727382": 15,
            "8335876096150": 15,
            "8284492267670": 15,
            "8331224187030": 15,
            "8318341349526": 15,
            "8318341152918": 15,
            "8286924570774": 15,
            "8241654890646": 15,
            "7872946536598": 15
          }
        },
        "sorted_shortlist_results": {
          "8351598510230": 15,
          "8335605727382": 15,
          "8335876096150": 15,
          "8284492267670": 15,
          "8331224187030": 15,
          "8318341349526": 15,
          "8318341152918": 15,
          "8286924570774": 15,
          "8241654890646": 15,
          "7872946536598": 15,
          "6737893687446": 7,
          "8319162450070": 5,
          "8245862105238": 5,
          "7941657690262": 5,
          "7438580252822": 5,
          "7480503173270": 5,
          "8394798071958": 2,
          "8377984974998": 2,
          "8370115575958": 2,
          "8335874850966": 2,
          "8387157491862": 0,
          "8387157590166": 0,
          "8387161325718": 0,
          "8337762287766": 0,
          "8322148565142": 0,
          "8285324705942": 0,
          "8245861384342": 0,
          "8281076039830": 0,
          "8245865152662": 0,
          "8245865250966": 0
        },
        "reranked_shortlisted_results": {
          "8331224187030": 0.6015625,
          "8335876096150": 0.58984375,
          "8284492267670": 0.58984375,
          "8335605727382": 0.58203125,
          "8241654890646": 0.57421875,
          "8318341152918": 0.57421875,
          "8318341349526": 0.5625,
          "8245861384342": 0.5390625,
          "8351598510230": 0.5390625,
          "8335874850966": 0.53515625
        },
        "final_products": [],
        "total_products_found": 0.0,
        "total_reranked": 0.0,
        "total_shortlisted": 0.0,
        "has_products": false,
        "total_time": 3.3267054557800293,
        "step_times": {
          "pinecone_search": 2.173187732696533,
          "groq_filtering": 1.153517723083496
        },
        "matches_found": 10,
        "matches_after_filtering": 0
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "looking for kurtas for office",
        "search_query": "modern square neck kurtas office",
        "best_match": {
          "score": 0.5155631899833679,
          "text": "modern square neck kurtas office",
          "original_message": "want modern kurtas with square neck for working professionals",
          "query_type": "detailed",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.5605366230010986,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 2.6028263568878174,
        "method2_time": 3.3267054557800293,
        "method3_time": 1.5605366230010986,
        "speedup_2vs1": 0.7824036096629781,
        "speedup_3vs1": 1.667904692862812,
        "speedup_3vs2": 2.1317701915783154,
        "savings_2vs1": -27.811271273499376,
        "savings_3vs1": 40.04453586112359,
        "savings_3vs2": 53.09062843872386
      }
    },
    {
      "query": "need dresses for party",
      "method1_result": {
        "status": "success",
        "method": "direct_chatbot_flow",
        "original_query": "need dresses for party",
        "search_query": "Women's party dresses evening wear satin or lace",
        "product_attributes_for_search": {
          "Dresses": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the dress",
                "possible_values": [
                  "satin",
                  "lace"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose of the dress",
                "possible_values": [
                  "party",
                  "evening wear"
                ],
                "weight": 5
              }
            ]
          },
          "Lehengas": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the garment",
                "possible_values": [
                  "satin",
                  "lace"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The intended use of the garment",
                "possible_values": [
                  "party",
                  "evening wear"
                ],
                "weight": 5
              }
            ]
          },
          "Sarees": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the saree",
                "possible_values": [
                  "satin",
                  "lace"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose of the saree",
                "possible_values": [
                  "party",
                  "evening wear"
                ],
                "weight": 5
              }
            ]
          }
        },
        "attribute_results_by_product_type": {
          "Dresses": {
            "The material of the dress": [
              "fabric_material"
            ],
            "The event or purpose of the dress": [
              "suitable_occasions"
            ]
          },
          "Lehengas": {
            "The material of the garment": [
              "fabric_type"
            ],
            "The intended use of the garment": [
              "suitable_occasion"
            ]
          },
          "Sarees": {
            "The material of the saree": [],
            "The event or purpose of the saree": []
          }
        },
        "mapped_attributes_and_values": {
          "Dresses": {
            "The material of the dress": {
              "value_mapping": {
                "satin": {
                  "fabric_material": {
                    "values": []
                  }
                },
                "lace": {
                  "fabric_material": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The event or purpose of the dress": {
              "value_mapping": {
                "party": {
                  "suitable_occasions": {
                    "values": [
                      "parties"
                    ]
                  }
                },
                "evening wear": {
                  "suitable_occasions": {
                    "values": [
                      "evening wear",
                      "parties"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasions"
              ]
            }
          },
          "Lehengas": {
            "The material of the garment": {
              "value_mapping": {
                "satin": {
                  "fabric_type": {
                    "values": []
                  }
                },
                "lace": {
                  "fabric_type": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_type"
              ]
            },
            "The intended use of the garment": {
              "value_mapping": {
                "party": {
                  "suitable_occasion": {
                    "values": [
                      "parties"
                    ]
                  }
                },
                "evening wear": {
                  "suitable_occasion": {
                    "values": [
                      "evening wear",
                      "parties",
                      "weddings",
                      "festive celebrations"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasion"
              ]
            }
          }
        },
        "shortlist_results": {
          "Dresses": {
            "8394031464598": 5,
            "8394031497366": 5,
            "8394031530134": 5,
            "8337761206422": 5,
            "8328635580566": 5,
            "8296766832790": 5,
            "8296766800022": 5,
            "8241641521302": 5,
            "8245867610262": 5,
            "8169156608150": 5
          },
          "Lehengas": {
            "8309346500758": 5,
            "8228426088598": 5,
            "8228426121366": 5,
            "7880887861398": 5,
            "7880887763094": 5,
            "7820088836246": 5,
            "7820088803478": 5,
            "7570301354134": 5,
            "7700400308374": 5,
            "7094010347670": 5
          },
          "Sarees": {
            "8358912589974": 0,
            "8358911475862": 0,
            "8358912557206": 0,
            "8358911344790": 0,
            "8358911574166": 0,
            "8358911312022": 0,
            "8358911279254": 0,
            "8358911377558": 0,
            "8405772042390": 0,
            "8383505072278": 0
          }
        },
        "sorted_shortlist_results": {
          "8394031464598": 5,
          "8394031497366": 5,
          "8394031530134": 5,
          "8337761206422": 5,
          "8328635580566": 5,
          "8296766832790": 5,
          "8296766800022": 5,
          "8241641521302": 5,
          "8245867610262": 5,
          "8169156608150": 5,
          "8309346500758": 5,
          "8228426088598": 5,
          "8228426121366": 5,
          "7880887861398": 5,
          "7880887763094": 5,
          "7820088836246": 5,
          "7820088803478": 5,
          "7570301354134": 5,
          "7700400308374": 5,
          "7094010347670": 5,
          "8358912589974": 0,
          "8358911475862": 0,
          "8358912557206": 0,
          "8358911344790": 0,
          "8358911574166": 0,
          "8358911312022": 0,
          "8358911279254": 0,
          "8358911377558": 0,
          "8405772042390": 0,
          "8383505072278": 0
        },
        "reranked_shortlisted_results": {
          "8169156608150": 0.48828125,
          "8337761206422": 0.466796875,
          "8328635580566": 0.455078125,
          "8296766832790": 0.421875,
          "8296766800022": 0.41796875,
          "8241641521302": 0.4140625,
          "7820088803478": 0.41015625,
          "7820088836246": 0.408203125,
          "7880887763094": 0.404296875,
          "8228426088598": 0.40234375
        },
        "final_products": [],
        "total_products_found": 0,
        "total_time": 4.807101249694824,
        "step_times": {
          "generate_search_query": 0.7123956680297852,
          "get_search_attributes": 0.6886601448059082,
          "run_attribute_search": 1.375732660293579,
          "map_search_values": 1.5701148509979248,
          "run_all_shortlists": 0.0060541629791259766,
          "merge_and_sort_shortlists": 0.0,
          "rerank_shortlisted_products": 0.454143762588501
        }
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "need dresses for party",
        "search_query": "chiffon floral embroidery dresses party",
        "groq_filtering": {
          "analysis": "Groq filtering failed, using fallback",
          "error": "Error code: 400 - {'error': {'message': \"Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.\", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\\n   \"selected_indices\": [0, 2, 4, 1],\\n}'}}",
          "fallback_used": true
        },
        "best_match": {
          "score": 0.37416255474090576,
          "text": "chiffon floral embroidery dresses party",
          "original_message": "want chiffon dresses with floral embroidery for date nights",
          "result_type": "detailed",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Dresses": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the dress",
                "possible_values": [
                  "chiffon"
                ],
                "weight": 1
              },
              {
                "attribute_name": "pattern",
                "attribute_description": "The design or print on the dress",
                "possible_values": [
                  "floral"
                ],
                "weight": 2
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The decorative elements on the dress",
                "possible_values": [
                  "embroidery"
                ],
                "weight": 4
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose of the dress",
                "possible_values": [
                  "party"
                ],
                "weight": 8
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Dresses": {
            "The material of the dress": {
              "value_mapping": {
                "chiffon": {
                  "fabric_material": {
                    "values": [
                      "chiffon"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The design or print on the dress": {
              "value_mapping": {
                "floral": {
                  "yoke_design": {
                    "values": [
                      "floral patterns",
                      "dense black floral and geometric print"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "yoke_design"
              ]
            },
            "The decorative elements on the dress": {
              "value_mapping": {
                "embroidery": {
                  "design_details": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "decorative_details": {
                    "values": [
                      "embroidery"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "design_details",
                "decorative_details"
              ]
            },
            "The event or purpose of the dress": {
              "value_mapping": {
                "party": {
                  "suitable_occasions": {
                    "values": [
                      "parties"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasions"
              ]
            }
          }
        },
        "shortlist_results": {
          "Dresses": {
            "8394031530134": 14,
            "8296766800022": 14,
            "7838954127510": 14,
            "8245867610262": 12,
            "7838954061974": 12,
            "7722330685590": 12,
            "7663441215638": 12,
            "8394031464598": 10,
            "8394031497366": 10,
            "8169155985558": 9
          }
        },
        "sorted_shortlist_results": {
          "8394031530134": 14,
          "8296766800022": 14,
          "7838954127510": 14,
          "8245867610262": 12,
          "7838954061974": 12,
          "7722330685590": 12,
          "7663441215638": 12,
          "8394031464598": 10,
          "8394031497366": 10,
          "8169155985558": 9
        },
        "reranked_shortlisted_results": {
          "8169155985558": 0.6015625,
          "8296766800022": 0.5390625,
          "8394031530134": 0.51953125,
          "7838954061974": 0.51171875,
          "7838954127510": 0.5,
          "8394031497366": 0.48828125,
          "8394031464598": 0.474609375,
          "7722330685590": 0.46875,
          "8245867610262": 0.4609375,
          "7663441215638": 0.4453125
        },
        "final_products": [],
        "total_products_found": 0.0,
        "total_reranked": 0.0,
        "total_shortlisted": 0.0,
        "has_products": false,
        "total_time": 2.687997817993164,
        "step_times": {
          "pinecone_search": 1.832766056060791,
          "groq_filtering": 0.855231761932373
        },
        "matches_found": 10,
        "matches_after_filtering": 0
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "need dresses for party",
        "search_query": "chiffon floral embroidery dresses party",
        "best_match": {
          "score": 0.37416255474090576,
          "text": "chiffon floral embroidery dresses party",
          "original_message": "want chiffon dresses with floral embroidery for date nights",
          "query_type": "detailed",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.5740413665771484,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 4.807101249694824,
        "method2_time": 2.687997817993164,
        "method3_time": 1.5740413665771484,
        "speedup_2vs1": 1.7883575713925857,
        "speedup_3vs1": 3.053986605287361,
        "speedup_3vs2": 1.7077046862106195,
        "savings_2vs1": 44.08277091804942,
        "savings_3vs1": 67.25591401518585,
        "savings_3vs2": 41.441865910727785
      }
    },
    {
      "query": "ethnic wear for festivals",
      "method1_result": {
        "status": "success",
        "method": "direct_chatbot_flow",
        "original_query": "ethnic wear for festivals",
        "search_query": "Women's traditional Indian festival wear dresses cotton silk embroidery",
        "product_attributes_for_search": {
          "Sarees": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the saree",
                "possible_values": [
                  "cotton",
                  "silk",
                  "cotton silk blend"
                ],
                "weight": 10
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative work on the saree",
                "possible_values": [
                  "embroidery",
                  "hand embroidery",
                  "zari work"
                ],
                "weight": 5
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The type of event the saree is suitable for",
                "possible_values": [
                  "festival",
                  "traditional",
                  "ceremonial"
                ],
                "weight": 2
              }
            ]
          },
          "Suits": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the suit",
                "possible_values": [
                  "cotton",
                  "silk",
                  "cotton silk"
                ],
                "weight": 10
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative elements on the suit",
                "possible_values": [
                  "embroidery"
                ],
                "weight": 5
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose the suit is designed for",
                "possible_values": [
                  "festival"
                ],
                "weight": 2
              }
            ]
          },
          "Lehengas": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the lehenga",
                "possible_values": [
                  "cotton",
                  "silk",
                  "cotton silk blend"
                ],
                "weight": 10
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative work on the lehenga",
                "possible_values": [
                  "embroidery",
                  "mirror work",
                  "sequins"
                ],
                "weight": 5
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The type of event the lehenga is suitable for",
                "possible_values": [
                  "festival",
                  "wedding",
                  "traditional"
                ],
                "weight": 2
              }
            ]
          }
        },
        "attribute_results_by_product_type": {
          "Sarees": {
            "The material of the saree": [],
            "The type of decorative work on the saree": [
              "pallu_style_design",
              "border_design",
              "print_pattern"
            ],
            "The type of event the saree is suitable for": [
              "suitable_occasion"
            ]
          },
          "Suits": {
            "The material of the suit": [
              "fabric_material"
            ],
            "The type of decorative elements on the suit": [
              "trim_type",
              "embroidery_and_embellishments"
            ],
            "The event or purpose the suit is designed for": [
              "occasion_type"
            ]
          },
          "Lehengas": {
            "The material of the lehenga": [
              "fabric_type"
            ],
            "The type of decorative work on the lehenga": [
              "embellishment_type",
              "trim_details"
            ],
            "The type of event the lehenga is suitable for": [
              "suitable_occasion"
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Sarees": {
            "The type of decorative work on the saree": {
              "value_mapping": {
                "embroidery": {
                  "pallu_style_design": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "embroidered"
                    ]
                  },
                  "print_pattern": {
                    "values": [
                      "embroidered"
                    ]
                  }
                },
                "hand embroidery": {
                  "pallu_style_design": {
                    "values": [
                      "intricate design"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "embroidered",
                      "gold embroidery"
                    ]
                  },
                  "print_pattern": {
                    "values": [
                      "embroidered"
                    ]
                  }
                },
                "zari work": {
                  "pallu_style_design": {
                    "values": [
                      "decorative",
                      "intricate design",
                      "gold_patterned_design"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "zari_border"
                    ]
                  },
                  "print_pattern": {
                    "values": [
                      "embroidered"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "pallu_style_design",
                "border_design",
                "print_pattern"
              ]
            },
            "The type of event the saree is suitable for": {
              "value_mapping": {
                "festival": {
                  "suitable_occasion": {
                    "values": [
                      "festive"
                    ]
                  }
                },
                "traditional": {
                  "suitable_occasion": {
                    "values": [
                      "traditional_indian_wear"
                    ]
                  }
                },
                "ceremonial": {
                  "suitable_occasion": {
                    "values": [
                      "formal",
                      "weddings"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasion"
              ]
            }
          },
          "Suits": {
            "The material of the suit": {
              "value_mapping": {
                "cotton": {
                  "fabric_material": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "silk": {
                  "fabric_material": {
                    "values": [
                      "silk blend"
                    ]
                  }
                },
                "cotton silk": {
                  "fabric_material": {
                    "values": [
                      "cotton silk",
                      "cotton",
                      "silk blend"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The type of decorative elements on the suit": {
              "value_mapping": {
                "embroidery": {
                  "trim_type": {
                    "values": [
                      "embroidered"
                    ]
                  },
                  "embroidery_and_embellishments": {
                    "values": [
                      "gold embroidery",
                      "floral embroidery"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "trim_type",
                "embroidery_and_embellishments"
              ]
            },
            "The event or purpose the suit is designed for": {
              "value_mapping": {
                "festival": {
                  "occasion_type": {
                    "values": [
                      "festive"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "occasion_type"
              ]
            }
          },
          "Lehengas": {
            "The material of the lehenga": {
              "value_mapping": {
                "cotton": {
                  "fabric_type": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "silk": {
                  "fabric_type": {
                    "values": [
                      "chanderi_silk"
                    ]
                  }
                },
                "cotton silk blend": {
                  "fabric_type": {
                    "values": [
                      "cotton"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_type"
              ]
            },
            "The type of decorative work on the lehenga": {
              "value_mapping": {
                "embroidery": {
                  "embellishment_type": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "embroidered borders"
                    ]
                  }
                },
                "mirror work": {
                  "embellishment_type": {
                    "values": []
                  },
                  "trim_details": {
                    "values": []
                  }
                },
                "sequins": {
                  "embellishment_type": {
                    "values": [
                      "sequins"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "sequins"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "embellishment_type",
                "trim_details"
              ]
            },
            "The type of event the lehenga is suitable for": {
              "value_mapping": {
                "festival": {
                  "suitable_occasion": {
                    "values": [
                      "festive celebrations",
                      "light_festivities"
                    ]
                  }
                },
                "wedding": {
                  "suitable_occasion": {
                    "values": [
                      "weddings",
                      "sangeet"
                    ]
                  }
                },
                "traditional": {
                  "suitable_occasion": {
                    "values": [
                      "traditional events"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasion"
              ]
            }
          }
        },
        "shortlist_results": {
          "Sarees": {
            "8405772042390": 7,
            "8383505334422": 7,
            "8383504679062": 7,
            "8383505203350": 7,
            "8383507562646": 7,
            "8383503728790": 7,
            "8383504253078": 7,
            "8383504711830": 7,
            "8383504810134": 7,
            "8383503794326": 7
          },
          "Suits": {
            "8377985073302": 17,
            "8377985335446": 17,
            "8377986449558": 17,
            "8334415659158": 17,
            "8281075253398": 17,
            "8245858074774": 17,
            "8328633778326": 17,
            "8261607260310": 17,
            "8281176440982": 17,
            "8358267486358": 15
          },
          "Lehengas": {
            "8309346500758": 17,
            "8228426088598": 12,
            "8228426121366": 12,
            "7880887861398": 7,
            "7880887763094": 7,
            "7820088836246": 7,
            "7820088803478": 7,
            "7570301354134": 7,
            "7700400308374": 7,
            "7094010347670": 7
          }
        },
        "sorted_shortlist_results": {
          "8377985073302": 17,
          "8377985335446": 17,
          "8377986449558": 17,
          "8334415659158": 17,
          "8281075253398": 17,
          "8245858074774": 17,
          "8328633778326": 17,
          "8261607260310": 17,
          "8281176440982": 17,
          "8309346500758": 17,
          "8358267486358": 15,
          "8228426088598": 12,
          "8228426121366": 12,
          "8405772042390": 7,
          "8383505334422": 7,
          "8383504679062": 7,
          "8383505203350": 7,
          "8383507562646": 7,
          "8383503728790": 7,
          "8383504253078": 7,
          "8383504711830": 7,
          "8383504810134": 7,
          "8383503794326": 7,
          "7880887861398": 7,
          "7880887763094": 7,
          "7820088836246": 7,
          "7820088803478": 7,
          "7570301354134": 7,
          "7700400308374": 7,
          "7094010347670": 7
        },
        "reranked_shortlisted_results": {
          "8383504679062": 0.58203125,
          "8281075253398": 0.58203125,
          "8358267486358": 0.55859375,
          "7880887763094": 0.55859375,
          "8228426088598": 0.55859375,
          "7094010347670": 0.55859375,
          "8309346500758": 0.5546875,
          "7820088836246": 0.55078125,
          "8377985073302": 0.54296875,
          "8245858074774": 0.5390625
        },
        "final_products": [],
        "total_products_found": 0,
        "total_time": 16.567086458206177,
        "step_times": {
          "generate_search_query": 0.22436881065368652,
          "get_search_attributes": 1.0062601566314697,
          "run_attribute_search": 7.048069715499878,
          "map_search_values": 7.778335332870483,
          "run_all_shortlists": 0.004006624221801758,
          "merge_and_sort_shortlists": 0.0,
          "rerank_shortlisted_products": 0.5060458183288574
        }
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "ethnic wear for festivals",
        "search_query": "ethnic wear festival",
        "groq_filtering": {
          "analysis": "Groq filtering failed, using fallback",
          "error": "Error code: 400 - {'error': {'message': \"Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.\", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\\n   \"selected_indices\": [0, 2, 4, 5, 8],\\n}'}}",
          "fallback_used": true
        },
        "best_match": {
          "score": 0.5065160989761353,
          "text": "ethnic wear festival",
          "original_message": "Hey, can you suggest some ethnic wear for a festival shopper?",
          "result_type": "basic",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Sarees": {
            "attributes": [
              {
                "attribute_name": "color",
                "attribute_description": "The primary color",
                "possible_values": [
                  "red",
                  "orange",
                  "yellow",
                  "green",
                  "blue",
                  "purple"
                ],
                "weight": 1
              },
              {
                "attribute_name": "pattern",
                "attribute_description": "The design or print on the fabric",
                "possible_values": [
                  "floral",
                  "geometric",
                  "striped",
                  "paisley",
                  "ikat"
                ],
                "weight": 2
              },
              {
                "attribute_name": "fabric",
                "attribute_description": "The type of material used",
                "possible_values": [
                  "silk",
                  "cotton",
                  "chiffon",
                  "georgette",
                  "velvet"
                ],
                "weight": 4
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The decorative elements or ornaments",
                "possible_values": [
                  "embroidery",
                  "sequins",
                  "mirror work",
                  "zari",
                  "applique"
                ],
                "weight": 8
              }
            ]
          },
          "Kurta Sets": {
            "attributes": [
              {
                "attribute_name": "pattern",
                "attribute_description": "The design or print on the fabric",
                "possible_values": [
                  "floral",
                  "geometric",
                  "ikat",
                  "bandhani"
                ],
                "weight": 1
              },
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the Kurta Set",
                "possible_values": [
                  "cotton",
                  "silk",
                  "chiffon",
                  "velvet"
                ],
                "weight": 2
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative elements",
                "possible_values": [
                  "mirror work",
                  "sequins",
                  "zari",
                  "embroidery"
                ],
                "weight": 4
              },
              {
                "attribute_name": "color",
                "attribute_description": "The primary color",
                "possible_values": [
                  "red",
                  "navy",
                  "forest green",
                  "maroon"
                ],
                "weight": 8
              }
            ]
          },
          "Lehengas": {
            "attributes": [
              {
                "attribute_name": "color",
                "attribute_description": "The primary color",
                "possible_values": [
                  "red",
                  "pink",
                  "orange",
                  "yellow"
                ],
                "weight": 1
              },
              {
                "attribute_name": "fabric",
                "attribute_description": "The type of fabric used",
                "possible_values": [
                  "silk",
                  "net",
                  "georgette",
                  "velvet"
                ],
                "weight": 2
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative elements used",
                "possible_values": [
                  "embroidery",
                  "mirror work",
                  "sequins",
                  "zari"
                ],
                "weight": 4
              },
              {
                "attribute_name": "sleeveStyle",
                "attribute_description": "The style of sleeves",
                "possible_values": [
                  "short sleeves",
                  "long sleeves",
                  "bell sleeves",
                  "cap sleeves"
                ],
                "weight": 8
              }
            ]
          },
          "Kurta": {
            "attributes": [
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose the Kurta is designed for",
                "possible_values": [
                  "festival",
                  "party",
                  "traditional"
                ],
                "weight": 10
              },
              {
                "attribute_name": "fabric",
                "attribute_description": "The material the Kurta is made of",
                "possible_values": [
                  "cotton",
                  "silk",
                  "chiffon"
                ],
                "weight": 5
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The decorative elements on the Kurta",
                "possible_values": [
                  "embroidery",
                  "mirror work",
                  "sequins"
                ],
                "weight": 2
              },
              {
                "attribute_name": "color",
                "attribute_description": "The primary color",
                "possible_values": [
                  "red",
                  "orange",
                  "yellow",
                  "green"
                ],
                "weight": 1
              }
            ]
          },
          "Kurtis": {
            "attributes": [
              {
                "attribute_name": "embroidery",
                "attribute_description": "Type of embroidery on the kurti",
                "possible_values": [
                  "mirror work",
                  "sequin",
                  "thread embroidery",
                  "applique"
                ],
                "weight": 1
              },
              {
                "attribute_name": "sleeveStyle",
                "attribute_description": "Style of sleeves",
                "possible_values": [
                  "short sleeves",
                  "long sleeves",
                  "bell sleeves",
                  "cap sleeves"
                ],
                "weight": 2
              },
              {
                "attribute_name": "neckline",
                "attribute_description": "The style or shape of the neckline",
                "possible_values": [
                  "round neckline",
                  "v-neck",
                  "u-neck",
                  "asymmetrical neckline"
                ],
                "weight": 4
              },
              {
                "attribute_name": "pattern",
                "attribute_description": "Design or print on the kurti",
                "possible_values": [
                  "floral",
                  "geometric",
                  "striped",
                  "paisley"
                ],
                "weight": 8
              }
            ]
          },
          "Suits": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the suit",
                "possible_values": [
                  "silk",
                  "cotton",
                  "georgette",
                  "chiffon"
                ],
                "weight": 1
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The decorative elements on the suit",
                "possible_values": [
                  "sequins",
                  "mirror work",
                  "embroidery",
                  "zari"
                ],
                "weight": 2
              },
              {
                "attribute_name": "pattern",
                "attribute_description": "The design or print on the suit",
                "possible_values": [
                  "floral",
                  "geometric",
                  "paisley",
                  "ikat"
                ],
                "weight": 4
              },
              {
                "attribute_name": "color",
                "attribute_description": "The primary color",
                "possible_values": [
                  "red",
                  "green",
                  "blue",
                  "yellow"
                ],
                "weight": 8
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Sarees": {
            "The primary color": {
              "value_mapping": {
                "red": {
                  "primary_color": {
                    "values": [
                      "red"
                    ]
                  }
                },
                "orange": {
                  "primary_color": {
                    "values": []
                  }
                },
                "yellow": {
                  "primary_color": {
                    "values": [
                      "yellow-green",
                      "mustard_yellow"
                    ]
                  }
                },
                "blue": {
                  "primary_color": {
                    "values": [
                      "blue"
                    ]
                  }
                },
                "purple": {
                  "primary_color": {
                    "values": [
                      "purple",
                      "deep_purple",
                      "burgundy-purple"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "primary_color"
              ]
            },
            "The design or print on the fabric": {
              "value_mapping": {
                "geometric": {
                  "print_pattern": {
                    "values": [
                      "geometric"
                    ]
                  }
                },
                "striped": {
                  "print_pattern": {
                    "values": [
                      "striped"
                    ]
                  }
                },
                "paisley": {
                  "print_pattern": {
                    "values": [
                      "paisley",
                      "ethnic motifs",
                      "Bandhani"
                    ]
                  }
                },
                "ikat": {
                  "print_pattern": {
                    "values": [
                      "ikat"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "print_pattern"
              ]
            },
            "The type of material used": {
              "value_mapping": {
                "silk": {
                  "fabric_material": {
                    "values": [
                      "silk blend"
                    ]
                  }
                },
                "cotton": {
                  "fabric_material": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "chiffon": {
                  "fabric_material": {
                    "values": [
                      "chiffon"
                    ]
                  }
                },
                "georgette": {
                  "fabric_material": {
                    "values": [
                      "georgette"
                    ]
                  }
                },
                "velvet": {
                  "fabric_material": {
                    "values": [
                      "velvet"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The decorative elements or ornaments": {
              "value_mapping": {
                "embroidery": {
                  "embellishment_details": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "embroidered"
                    ]
                  },
                  "pallu_style_design": {
                    "values": [
                      "embroidery"
                    ]
                  }
                },
                "sequins": {
                  "embellishment_details": {
                    "values": [
                      "sequins"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "sequins"
                    ]
                  },
                  "pallu_style_design": {
                    "values": [
                      "decorative"
                    ]
                  }
                },
                "mirror work": {
                  "embellishment_details": {
                    "values": [
                      "threadwork",
                      "zari work",
                      "embroidery",
                      "intricate_embellishments"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "mirror work"
                    ]
                  },
                  "pallu_style_design": {
                    "values": [
                      "decorative",
                      "intricate design"
                    ]
                  }
                },
                "zari": {
                  "embellishment_details": {
                    "values": [
                      "zari work"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "zari_border"
                    ]
                  },
                  "pallu_style_design": {
                    "values": [
                      "multi-colored_pattern"
                    ]
                  }
                },
                "applique": {
                  "border_design": {
                    "values": [
                      "applique"
                    ]
                  },
                  "pallu_style_design": {
                    "values": [
                      "applique"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "embellishment_details",
                "border_design",
                "pallu_style_design"
              ]
            }
          },
          "Kurta Sets": {
            "The design or print on the fabric": {
              "value_mapping": {
                "floral": {
                  "print_color_pattern": {
                    "values": [
                      "floral",
                      "floral print",
                      "monochrome floral"
                    ]
                  }
                },
                "geometric": {
                  "design_pattern": {
                    "values": [
                      "geometric pattern",
                      "geometric print"
                    ]
                  }
                },
                "ikat": {
                  "design_pattern": {
                    "values": [
                      "ikat-inspired print"
                    ]
                  },
                  "print_color_pattern": {
                    "values": [
                      "Ikat-inspired"
                    ]
                  }
                },
                "bandhani": {
                  "design_pattern": {
                    "values": [
                      "bandhani-inspired_border"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "design_pattern",
                "print_color_pattern"
              ]
            },
            "The type of decorative elements": {
              "value_mapping": {
                "mirror work": {
                  "embellishment_details": {
                    "values": [
                      "mirror work"
                    ]
                  },
                  "dupatta_trim_details": {
                    "values": [
                      "mirror work"
                    ]
                  }
                },
                "sequins": {
                  "embellishment_details": {
                    "values": [
                      "sequins embroidery",
                      "sequins and other decorative elements",
                      "sequins and lace detailing",
                      "sequin detailing"
                    ]
                  },
                  "dupatta_trim_details": {
                    "values": [
                      "sequin work",
                      "white lace and sequin accents"
                    ]
                  }
                },
                "zari": {
                  "decorative_accessories": {
                    "values": [
                      "zari work"
                    ]
                  },
                  "embellishment_details": {
                    "values": [
                      "zari work"
                    ]
                  },
                  "dupatta_trim_details": {
                    "values": [
                      "zari work"
                    ]
                  }
                },
                "embroidery": {
                  "decorative_accessories": {
                    "values": [
                      "embroidery",
                      "silver-toned embroidery",
                      "schiffli embroidery"
                    ]
                  },
                  "dupatta_trim_details": {
                    "values": [
                      "embroidered",
                      "scattered_embroidery",
                      "sequence embroidery",
                      "floral_embroidery",
                      "gold embroidery"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "decorative_accessories",
                "embellishment_details",
                "dupatta_trim_details"
              ]
            },
            "The primary color": {
              "value_mapping": {
                "red": {
                  "color_attributes": {
                    "values": [
                      "red",
                      "deep red",
                      "vibrant red"
                    ]
                  }
                },
                "navy": {
                  "color_attributes": {
                    "values": [
                      "navy blue"
                    ]
                  }
                },
                "forest green": {
                  "color_attributes": {
                    "values": [
                      "green",
                      "dark green"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "color_attributes"
              ]
            }
          },
          "Lehengas": {
            "The primary color": {
              "value_mapping": {
                "red": {
                  "primary_color": {
                    "values": []
                  }
                },
                "orange": {
                  "primary_color": {
                    "values": [
                      "orange"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "primary_color"
              ]
            },
            "The type of fabric used": {
              "value_mapping": {
                "silk": {
                  "fabric_type": {
                    "values": [
                      "chanderi_silk"
                    ]
                  },
                  "fabric_texture": {
                    "values": []
                  }
                },
                "net": {
                  "fabric_texture": {
                    "values": []
                  }
                },
                "georgette": {
                  "fabric_type": {
                    "values": [
                      "georgette"
                    ]
                  },
                  "fabric_texture": {
                    "values": []
                  }
                },
                "velvet": {
                  "fabric_type": {
                    "values": []
                  },
                  "fabric_texture": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_type",
                "fabric_texture"
              ]
            },
            "The type of decorative elements used": {
              "value_mapping": {
                "embroidery": {
                  "embellishment_type": {
                    "values": [
                      "embroidery"
                    ]
                  }
                },
                "mirror work": {
                  "trim_details": {
                    "values": []
                  }
                },
                "zari": {
                  "embellishment_type": {
                    "values": [
                      "embroidery",
                      "thread_work"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "embellished_belt"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "embellishment_type",
                "trim_details"
              ]
            },
            "The style of sleeves": {
              "value_mapping": {
                "short sleeves": {
                  "sleeve_style": {
                    "values": [
                      "short_sleeves"
                    ]
                  },
                  "garment_length": {
                    "values": [
                      "three-quarter_sleeves"
                    ]
                  }
                },
                "long sleeves": {
                  "garment_length": {
                    "values": []
                  }
                },
                "cap sleeves": {
                  "sleeve_style": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "sleeve_style",
                "garment_length"
              ]
            }
          },
          "Kurta": {
            "The event or purpose the Kurta is designed for": {
              "value_mapping": {
                "festival": {
                  "season_or_occasion": {
                    "values": [
                      "festive"
                    ]
                  }
                },
                "party": {
                  "season_or_occasion": {
                    "values": [
                      "party wear"
                    ]
                  }
                },
                "traditional": {
                  "season_or_occasion": {
                    "values": [
                      "formal"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "season_or_occasion"
              ]
            },
            "The decorative elements on the Kurta": {
              "value_mapping": {
                "embroidery": {
                  "yoke_design": {
                    "values": [
                      "embroidered",
                      "intricate white embroidery",
                      "floral embroidery"
                    ]
                  },
                  "decorative_details": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "embellishment_location": {
                    "values": [
                      "embroidery"
                    ]
                  }
                },
                "sequins": {
                  "embellishment_location": {
                    "values": [
                      "front_and_back",
                      "front"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "yoke_design",
                "decorative_details",
                "embellishment_location"
              ]
            },
            "The primary color": {
              "value_mapping": {
                "red": {
                  "primary_color": {
                    "values": [
                      "red",
                      "maroon"
                    ]
                  }
                },
                "yellow": {
                  "primary_color": {
                    "values": [
                      "yellow"
                    ]
                  }
                },
                "green": {
                  "primary_color": {
                    "values": [
                      "green"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "primary_color"
              ]
            }
          },
          "Kurtis": {
            "Type of embroidery on the kurti": {
              "value_mapping": {
                "sequin": {
                  "decorative_elements": {
                    "values": [
                      "embellishments"
                    ]
                  }
                },
                "applique": {
                  "decorative_elements": {
                    "values": [
                      "embellishments"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "decorative_elements"
              ]
            },
            "Style of sleeves": {
              "value_mapping": {
                "long sleeves": {
                  "sleeve_style": {
                    "values": [
                      "long sleeves"
                    ]
                  }
                },
                "bell sleeves": {
                  "sleeve_style": {
                    "values": []
                  }
                },
                "cap sleeves": {
                  "sleeve_style": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "sleeve_style"
              ]
            },
            "The style or shape of the neckline": {
              "value_mapping": {
                "round neckline": {
                  "collar_or_neckline_style": {
                    "values": [
                      "round_neckline"
                    ]
                  }
                },
                "v-neck": {
                  "collar_or_neckline_style": {
                    "values": [
                      "v_neckline"
                    ]
                  }
                },
                "u-neck": {
                  "collar_or_neckline_style": {
                    "values": []
                  }
                },
                "asymmetrical neckline": {
                  "collar_or_neckline_style": {
                    "values": [
                      "asymmetrical neckline"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "collar_or_neckline_style"
              ]
            },
            "Design or print on the kurti": {
              "value_mapping": {
                "geometric": {
                  "print_or_design": {
                    "values": []
                  }
                },
                "paisley": {
                  "print_or_design": {
                    "values": [
                      "paisley_print"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "print_or_design"
              ]
            }
          },
          "Suits": {
            "The material of the suit": {
              "value_mapping": {
                "georgette": {
                  "fabric_material": {
                    "values": [
                      "georgette"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The decorative elements on the suit": {
              "value_mapping": {
                "sequins": {
                  "embroidery_and_embellishments": {
                    "values": [
                      "sequins"
                    ]
                  }
                },
                "mirror work": {
                  "trim_type": {
                    "values": [
                      "mirror work"
                    ]
                  },
                  "embroidery_and_embellishments": {
                    "values": [
                      "mirror work"
                    ]
                  }
                },
                "embroidery": {
                  "embroidery_and_embellishments": {
                    "values": [
                      "gold embroidery",
                      "floral embroidery"
                    ]
                  }
                },
                "zari": {
                  "embroidery_and_embellishments": {
                    "values": [
                      "gold embroidery"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "trim_type",
                "embroidery_and_embellishments"
              ]
            },
            "The design or print on the suit": {
              "value_mapping": {
                "floral": {
                  "pattern_or_design": {
                    "values": [
                      "floral print"
                    ]
                  }
                },
                "geometric": {
                  "pattern_or_design": {
                    "values": [
                      "geometric designs",
                      "zig-zag designs"
                    ]
                  }
                },
                "paisley": {
                  "pattern_or_design": {
                    "values": [
                      "paisley"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "pattern_or_design"
              ]
            },
            "The primary color": {
              "value_mapping": {
                "yellow": {
                  "color_scheme": {
                    "values": [
                      "mustard-yellow",
                      "pale yellow or light butter"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "color_scheme"
              ]
            }
          }
        },
        "shortlist_results": {
          "Sarees": {
            "8358912589974": 15,
            "8358911475862": 15,
            "8358911344790": 15,
            "8383507562646": 15,
            "8383504810134": 15,
            "8410719191190": 15,
            "8383506743446": 15,
            "8383508250774": 15,
            "8383507726486": 15,
            "8358911541398": 15
          },
          "Kurta Sets": {
            "8358905905302": 13,
            "8351603097750": 13,
            "8351603196054": 13,
            "8394799612054": 13,
            "8351608340630": 13,
            "8377985106070": 13,
            "8358906626198": 13,
            "8319157338262": 13,
            "8377984778390": 13,
            "8351608766614": 13
          },
          "Lehengas": {
            "7880887763094": 14,
            "7820088836246": 14,
            "7820088803478": 14,
            "7570301354134": 14,
            "7700400308374": 14,
            "8309346500758": 6,
            "7880887861398": 6,
            "7094010347670": 6,
            "7094010249366": 6,
            "8228426088598": 1
          },
          "Kurta": {
            "8370116001942": 13,
            "8281462407318": 13,
            "8318340104342": 13,
            "8241636409494": 13,
            "8241641422998": 13,
            "8286925226134": 13,
            "8281462734998": 13,
            "8241640833174": 13,
            "7937531281558": 13,
            "7937531674774": 13
          },
          "Kurtis": {
            "8036530520214": 8,
            "8387157590166": 4,
            "8245861384342": 4,
            "8224687685782": 4,
            "8387157491862": 0,
            "8387161325718": 0,
            "8337762287766": 0,
            "8322148565142": 0,
            "8285324705942": 0,
            "8281076039830": 0
          },
          "Suits": {
            "8334415659158": 14,
            "8296756510870": 11,
            "7937528135830": 10,
            "8241663803542": 7,
            "7752288960662": 7,
            "7752288796822": 7,
            "8377985073302": 6,
            "8377985335446": 6,
            "8377986449558": 6,
            "8358267486358": 6
          }
        },
        "sorted_shortlist_results": {
          "8358912589974": 15,
          "8358911475862": 15,
          "8358911344790": 15,
          "8383507562646": 15,
          "8383504810134": 15,
          "8410719191190": 15,
          "8383506743446": 15,
          "8383508250774": 15,
          "8383507726486": 15,
          "8358911541398": 15,
          "7880887763094": 14,
          "7820088836246": 14,
          "7820088803478": 14,
          "7570301354134": 14,
          "7700400308374": 14,
          "8334415659158": 14,
          "8358905905302": 13,
          "8351603097750": 13,
          "8351603196054": 13,
          "8394799612054": 13,
          "8351608340630": 13,
          "8377985106070": 13,
          "8358906626198": 13,
          "8319157338262": 13,
          "8377984778390": 13,
          "8351608766614": 13,
          "8370116001942": 13,
          "8281462407318": 13,
          "8318340104342": 13,
          "8241636409494": 13,
          "8241641422998": 13,
          "8286925226134": 13,
          "8281462734998": 13,
          "8241640833174": 13,
          "7937531281558": 13,
          "7937531674774": 13,
          "8296756510870": 11,
          "7937528135830": 10,
          "8036530520214": 8,
          "8241663803542": 7,
          "7752288960662": 7,
          "7752288796822": 7,
          "8309346500758": 6,
          "7880887861398": 6,
          "7094010347670": 6,
          "7094010249366": 6,
          "8377985073302": 6,
          "8377985335446": 6,
          "8377986449558": 6,
          "8358267486358": 6,
          "8387157590166": 4,
          "8245861384342": 4,
          "8224687685782": 4,
          "8228426088598": 1,
          "8387157491862": 0,
          "8387161325718": 0,
          "8337762287766": 0,
          "8322148565142": 0,
          "8285324705942": 0,
          "8281076039830": 0
        },
        "reranked_shortlisted_results": {
          "8334415659158": 0.5078125,
          "7937531281558": 0.50390625,
          "8410719191190": 0.486328125,
          "8358906626198": 0.482421875,
          "8358911475862": 0.4765625,
          "8296756510870": 0.47265625,
          "7094010249366": 0.470703125,
          "8351608340630": 0.466796875,
          "8309346500758": 0.46484375,
          "8394799612054": 0.46484375
        },
        "final_products": [],
        "total_products_found": 0.0,
        "total_reranked": 0.0,
        "total_shortlisted": 0.0,
        "has_products": false,
        "total_time": 2.8461532592773438,
        "step_times": {
          "pinecone_search": 2.125670909881592,
          "groq_filtering": 0.720482349395752
        },
        "matches_found": 10,
        "matches_after_filtering": 0
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "ethnic wear for festivals",
        "search_query": "ethnic wear festival",
        "best_match": {
          "score": 0.5065160989761353,
          "text": "ethnic wear festival",
          "original_message": "Hey, can you suggest some ethnic wear for a festival shopper?",
          "query_type": "basic",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.3276948928833008,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 16.567086458206177,
        "method2_time": 2.8461532592773438,
        "method3_time": 1.3276948928833008,
        "speedup_2vs1": 5.820869415307826,
        "speedup_3vs1": 12.478082537643955,
        "speedup_3vs2": 2.143680204340072,
        "savings_2vs1": 82.82043576909349,
        "savings_3vs1": 91.98594818568323,
        "savings_3vs2": 53.351250901351285
      }
    },
    {
      "query": "comfortable loungewear",
      "method1_result": {
        "status": "success",
        "method": "direct_chatbot_flow",
        "original_query": "comfortable loungewear",
        "search_query": "soft comfortable women's loungewear with fleece fabric for casual wear",
        "product_attributes_for_search": {
          "Loungewear": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the clothing",
                "possible_values": [
                  "fleece"
                ],
                "weight": 10
              },
              {
                "attribute_name": "comfort_level",
                "attribute_description": "How comfortable the clothing is",
                "possible_values": [
                  "soft"
                ],
                "weight": 5
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The intended use of the clothing",
                "possible_values": [
                  "casual"
                ],
                "weight": 1
              }
            ]
          }
        },
        "attribute_results_by_product_type": {
          "Loungewear": {
            "The material of the clothing": [
              "fabric_material"
            ],
            "How comfortable the clothing is": [
              "garment_fit",
              "fabric_weight",
              "waistband_type"
            ],
            "The intended use of the clothing": [
              "intended_use_or_occasion"
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Loungewear": {
            "The material of the clothing": {
              "value_mapping": {
                "fleece": {
                  "fabric_material": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "How comfortable the clothing is": {
              "value_mapping": {
                "soft": {
                  "garment_fit": {
                    "values": [
                      "loose-fitting"
                    ]
                  },
                  "fabric_weight": {
                    "values": []
                  },
                  "waistband_type": {
                    "values": [
                      "elasticated"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "garment_fit",
                "fabric_weight",
                "waistband_type"
              ]
            },
            "The intended use of the clothing": {
              "value_mapping": {
                "casual": {
                  "intended_use_or_occasion": {
                    "values": [
                      "casual wear",
                      "everyday wear"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "intended_use_or_occasion"
              ]
            }
          }
        },
        "shortlist_results": {
          "Loungewear": {
            "8370113347734": 6,
            "8370113380502": 6,
            "8370113577110": 6,
            "8370114789526": 6,
            "8370114953366": 6,
            "8370114920598": 6,
            "8370114855062": 6,
            "8370115182742": 6,
            "8370114429078": 6,
            "8370114035862": 6
          }
        },
        "sorted_shortlist_results": {
          "8370113347734": 6,
          "8370113380502": 6,
          "8370113577110": 6,
          "8370114789526": 6,
          "8370114953366": 6,
          "8370114920598": 6,
          "8370114855062": 6,
          "8370115182742": 6,
          "8370114429078": 6,
          "8370114035862": 6
        },
        "reranked_shortlisted_results": {
          "8370114035862": 0.59375,
          "8370113347734": 0.59375,
          "8370115182742": 0.56640625,
          "8370114429078": 0.55859375,
          "8370114920598": 0.5546875,
          "8370113380502": 0.5546875,
          "8370114855062": 0.55078125,
          "8370114789526": 0.5390625,
          "8370114953366": 0.53515625,
          "8370113577110": 0.51953125
        },
        "final_products": [],
        "total_products_found": 0,
        "total_time": 4.142049312591553,
        "step_times": {
          "generate_search_query": 0.20804429054260254,
          "get_search_attributes": 0.6274909973144531,
          "run_attribute_search": 1.7401800155639648,
          "map_search_values": 1.1963047981262207,
          "run_all_shortlists": 0.001999378204345703,
          "merge_and_sort_shortlists": 0.0,
          "rerank_shortlisted_products": 0.3680298328399658
        }
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "comfortable loungewear",
        "search_query": "muslin loose loungewear comfort",
        "groq_filtering": {
          "analysis": "Groq filtering failed, using fallback",
          "error": "Error code: 400 - {'error': {'message': \"Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.\", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\\n   \"selected_indices\": [0, 2, 4, 7],\\n}'}}",
          "fallback_used": true
        },
        "best_match": {
          "score": 0.5570976138114929,
          "text": "muslin loose loungewear comfort",
          "original_message": "show me muslin loungewear with loose fit for comfort wear",
          "result_type": "detailed",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Loungewear": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the garment",
                "possible_values": [
                  "muslin",
                  "cotton",
                  "linen"
                ],
                "weight": 10
              },
              {
                "attribute_name": "fit",
                "attribute_description": "The looseness or tightness of the garment",
                "possible_values": [
                  "loose",
                  "relaxed",
                  "oversized"
                ],
                "weight": 5
              },
              {
                "attribute_name": "comfort_level",
                "attribute_description": "The level of comfort the garment provides",
                "possible_values": [
                  "high",
                  "medium",
                  "soft"
                ],
                "weight": 2
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Loungewear": {
            "The material of the garment": {
              "value_mapping": {
                "muslin": {
                  "fabric_material": {
                    "values": []
                  }
                },
                "cotton": {
                  "fabric_material": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "linen": {
                  "fabric_material": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The looseness or tightness of the garment": {
              "value_mapping": {
                "loose": {
                  "garment_fit": {
                    "values": [
                      "loose-fitting"
                    ]
                  }
                },
                "relaxed": {
                  "garment_fit": {
                    "values": [
                      "loose-fitting"
                    ]
                  }
                },
                "oversized": {
                  "garment_fit": {
                    "values": [
                      "loose-fitting"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "garment_fit"
              ]
            },
            "The level of comfort the garment provides": {
              "value_mapping": {
                "high": {
                  "garment_fit": {
                    "values": [
                      "loose-fitting"
                    ]
                  }
                },
                "medium": {
                  "garment_fit": {
                    "values": [
                      "regular fit"
                    ]
                  }
                },
                "soft": {
                  "garment_fit": {
                    "values": [
                      "loose-fitting"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "garment_fit"
              ]
            }
          }
        },
        "shortlist_results": {
          "Loungewear": {
            "8370113347734": 17,
            "8370113380502": 17,
            "8370113577110": 17,
            "8370114035862": 17,
            "8370114986134": 17,
            "8370113839254": 17,
            "8370113872022": 17,
            "8370114265238": 17,
            "8370114723990": 17,
            "8370113740950": 17
          }
        },
        "sorted_shortlist_results": {
          "8370113347734": 17,
          "8370113380502": 17,
          "8370113577110": 17,
          "8370114035862": 17,
          "8370114986134": 17,
          "8370113839254": 17,
          "8370113872022": 17,
          "8370114265238": 17,
          "8370114723990": 17,
          "8370113740950": 17
        },
        "reranked_shortlisted_results": {
          "8370113380502": 0.5546875,
          "8370113839254": 0.53515625,
          "8370114035862": 0.53125,
          "8370114986134": 0.53125,
          "8370113347734": 0.52734375,
          "8370113872022": 0.52734375,
          "8370114723990": 0.5234375,
          "8370114265238": 0.515625,
          "8370113740950": 0.515625,
          "8370113577110": 0.470703125
        },
        "final_products": [],
        "total_products_found": 0.0,
        "total_reranked": 0.0,
        "total_shortlisted": 0.0,
        "has_products": false,
        "total_time": 2.2913904190063477,
        "step_times": {
          "pinecone_search": 1.5684616565704346,
          "groq_filtering": 0.7229287624359131
        },
        "matches_found": 10,
        "matches_after_filtering": 0
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "comfortable loungewear",
        "search_query": "muslin loose loungewear comfort",
        "best_match": {
          "score": 0.5570976138114929,
          "text": "muslin loose loungewear comfort",
          "original_message": "show me muslin loungewear with loose fit for comfort wear",
          "query_type": "detailed",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.4279043674468994,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 4.142049312591553,
        "method2_time": 2.2913904190063477,
        "method3_time": 1.4279043674468994,
        "speedup_2vs1": 1.8076576031018476,
        "speedup_3vs1": 2.9007890213246976,
        "speedup_3vs2": 1.6047226069511684,
        "savings_2vs1": 44.679789010703615,
        "savings_3vs1": 65.52662076943011,
        "savings_3vs2": 37.68393392924701
      }
    },
    {
      "query": "cotton kurta sets for summer",
      "method1_result": {
        "status": "success",
        "method": "direct_chatbot_flow",
        "original_query": "cotton kurta sets for summer",
        "search_query": "women's cotton kurta sets for summer casual wear",
        "product_attributes_for_search": {
          "Kurta Sets": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the kurta set",
                "possible_values": [
                  "cotton"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The intended use of the kurta set",
                "possible_values": [
                  "casual",
                  "summer"
                ],
                "weight": 5
              },
              {
                "attribute_name": "season",
                "attribute_description": "The time of year the kurta set is suitable for",
                "possible_values": [
                  "summer"
                ],
                "weight": 2
              }
            ]
          }
        },
        "attribute_results_by_product_type": {
          "Kurta Sets": {
            "The material of the kurta set": [],
            "The intended use of the kurta set": [],
            "The time of year the kurta set is suitable for": [
              "season_or_weather_suitability"
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Kurta Sets": {
            "The time of year the kurta set is suitable for": {
              "value_mapping": {
                "summer": {
                  "season_or_weather_suitability": {
                    "values": [
                      "summer"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "season_or_weather_suitability"
              ]
            }
          }
        },
        "shortlist_results": {
          "Kurta Sets": {
            "8351603097750": 2,
            "8347270348950": 2,
            "8351600279702": 2,
            "8319157436566": 2,
            "8347271725206": 2,
            "8351600115862": 2,
            "8335874621590": 2,
            "8351601524886": 2,
            "8351607947414": 2,
            "8335873736854": 2
          }
        },
        "sorted_shortlist_results": {
          "8351603097750": 2,
          "8347270348950": 2,
          "8351600279702": 2,
          "8319157436566": 2,
          "8347271725206": 2,
          "8351600115862": 2,
          "8335874621590": 2,
          "8351601524886": 2,
          "8351607947414": 2,
          "8335873736854": 2
        },
        "reranked_shortlisted_results": {
          "8335873736854": 0.72265625,
          "8351601524886": 0.72265625,
          "8351600279702": 0.71484375,
          "8335874621590": 0.69140625,
          "8351600115862": 0.6796875,
          "8351603097750": 0.67578125,
          "8351607947414": 0.66796875,
          "8347270348950": 0.66015625,
          "8347271725206": 0.65625,
          "8319157436566": 0.61328125
        },
        "final_products": [],
        "total_products_found": 0,
        "total_time": 3.7174527645111084,
        "step_times": {
          "generate_search_query": 0.6991307735443115,
          "get_search_attributes": 0.6023437976837158,
          "run_attribute_search": 1.5279157161712646,
          "map_search_values": 0.5141251087188721,
          "run_all_shortlists": 0.00999140739440918,
          "merge_and_sort_shortlists": 0.0,
          "rerank_shortlisted_products": 0.36394596099853516
        }
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "cotton kurta sets for summer",
        "search_query": "breathable fabric kurta summer",
        "groq_filtering": {
          "analysis": "",
          "reasoning": "",
          "selected_indices": [
            0,
            2,
            4,
            6
          ],
          "original_matches": 10,
          "filtered_matches": 4
        },
        "best_match": {
          "score": 0.510671079158783,
          "text": "breathable fabric kurta summer",
          "original_message": "Hi! Looking for a breathable fabric kurta for summer travel.",
          "result_type": "basic",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Kurta": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the kurta",
                "possible_values": [
                  "cotton",
                  "linen",
                  "rayon"
                ],
                "weight": 1
              },
              {
                "attribute_name": "season",
                "attribute_description": "The time of year the kurta is suitable for",
                "possible_values": [
                  "summer"
                ],
                "weight": 2
              },
              {
                "attribute_name": "breathability",
                "attribute_description": "How well the fabric allows air to pass through",
                "possible_values": [
                  "high",
                  "medium",
                  "low"
                ],
                "weight": 4
              }
            ]
          },
          "Kurta Sets": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the kurta",
                "possible_values": [
                  "cotton",
                  "linen",
                  "bamboo"
                ],
                "weight": 10
              },
              {
                "attribute_name": "season",
                "attribute_description": "The time of year the kurta is suitable for",
                "possible_values": [
                  "summer"
                ],
                "weight": 5
              },
              {
                "attribute_name": "breathability",
                "attribute_description": "The ability of the fabric to allow air to pass through",
                "possible_values": [
                  "yes",
                  "no"
                ],
                "weight": 2
              }
            ]
          },
          "Kurtis": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the kurti",
                "possible_values": [
                  "cotton",
                  "linen",
                  "rayon"
                ],
                "weight": 1
              },
              {
                "attribute_name": "season",
                "attribute_description": "The time of year the kurti is suitable for",
                "possible_values": [
                  "summer"
                ],
                "weight": 2
              },
              {
                "attribute_name": "breathability",
                "attribute_description": "How well the kurti allows air to pass through",
                "possible_values": [
                  "breathable",
                  "airy",
                  "well-ventilated"
                ],
                "weight": 4
              }
            ]
          },
          "Short Kurtis": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the garment",
                "possible_values": [
                  "cotton",
                  "linen",
                  "bamboo"
                ],
                "weight": 10
              },
              {
                "attribute_name": "season",
                "attribute_description": "The time of year the garment is suited for",
                "possible_values": [
                  "summer"
                ],
                "weight": 5
              },
              {
                "attribute_name": "breathability",
                "attribute_description": "The ability of the fabric to allow air to pass through",
                "possible_values": [
                  "yes",
                  "no"
                ],
                "weight": 2
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Kurta": {
            "The time of year the kurta is suitable for": {
              "value_mapping": {
                "summer": {
                  "season_or_occasion": {
                    "values": [
                      "summer"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "season_or_occasion"
              ]
            },
            "How well the fabric allows air to pass through": {
              "value_mapping": {
                "high": {
                  "fabric_weight": {
                    "values": []
                  }
                },
                "medium": {
                  "fabric_weight": {
                    "values": [
                      "medium"
                    ]
                  }
                },
                "low": {
                  "fabric_weight": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_weight"
              ]
            }
          },
          "Kurta Sets": {
            "The ability of the fabric to allow air to pass through": {
              "value_mapping": {
                "yes": {
                  "fabric_sheerness": {
                    "values": []
                  }
                },
                "no": {
                  "fabric_sheerness": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_sheerness"
              ]
            }
          },
          "Kurtis": {
            "The material of the kurti": {
              "value_mapping": {
                "cotton": {
                  "fabric_material": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "linen": {
                  "fabric_material": {
                    "values": [
                      "linen"
                    ]
                  }
                },
                "rayon": {
                  "fabric_material": {
                    "values": [
                      "rayon"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            }
          },
          "Short Kurtis": {
            "The material of the garment": {
              "value_mapping": {
                "cotton": {
                  "fabric_material": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "linen": {
                  "fabric_material": {
                    "values": []
                  }
                },
                "bamboo": {
                  "fabric_material": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The ability of the fabric to allow air to pass through": {
              "value_mapping": {
                "yes": {
                  "fabric_weight": {
                    "values": []
                  },
                  "fabric_texture_finish": {
                    "values": []
                  }
                },
                "no": {
                  "fabric_weight": {
                    "values": []
                  },
                  "fabric_texture_finish": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_weight",
                "fabric_texture_finish"
              ]
            }
          }
        },
        "shortlist_results": {
          "Kurta": {
            "8308888961174": 6,
            "8241637195926": 6,
            "8370115575958": 4,
            "8334417199254": 4,
            "8334416543894": 4,
            "8334417330326": 4,
            "8387162996886": 4,
            "8387162898582": 4,
            "8387162800278": 4,
            "8387162767510": 4
          },
          "Kurta Sets": {
            "8377985040534": 0,
            "8358905905302": 0,
            "8347272052886": 0,
            "7825692131478": 0,
            "8351608701078": 0,
            "8347271561366": 0,
            "8335875408022": 0,
            "8351603097750": 0,
            "8319158321302": 0,
            "8334415822998": 0
          },
          "Kurtis": {
            "8387157491862": 1,
            "8387157590166": 1,
            "8337762287766": 1,
            "8322148565142": 1,
            "8285324705942": 1,
            "8245861384342": 1,
            "8281076039830": 1,
            "8245865152662": 1,
            "8245865250966": 1,
            "8269505724566": 1
          },
          "Short Kurtis": {
            "8394799153302": 10,
            "8394799120534": 10,
            "8394803150998": 10,
            "8394798137494": 10,
            "8394798170262": 10,
            "8394796990614": 10,
            "8386552725654": 10,
            "8351595298966": 10,
            "8386552987798": 10,
            "8334416281750": 10
          }
        },
        "sorted_shortlist_results": {
          "8394799153302": 10,
          "8394799120534": 10,
          "8394803150998": 10,
          "8394798137494": 10,
          "8394798170262": 10,
          "8394796990614": 10,
          "8386552725654": 10,
          "8351595298966": 10,
          "8386552987798": 10,
          "8334416281750": 10,
          "8308888961174": 6,
          "8241637195926": 6,
          "8370115575958": 4,
          "8334417199254": 4,
          "8334416543894": 4,
          "8334417330326": 4,
          "8387162996886": 4,
          "8387162898582": 4,
          "8387162800278": 4,
          "8387162767510": 4,
          "8387157491862": 1,
          "8387157590166": 1,
          "8337762287766": 1,
          "8322148565142": 1,
          "8285324705942": 1,
          "8245861384342": 1,
          "8281076039830": 1,
          "8245865152662": 1,
          "8245865250966": 1,
          "8269505724566": 1,
          "8377985040534": 0,
          "8358905905302": 0,
          "8347272052886": 0,
          "7825692131478": 0,
          "8351608701078": 0,
          "8347271561366": 0,
          "8335875408022": 0,
          "8351603097750": 0,
          "8319158321302": 0,
          "8334415822998": 0
        },
        "reranked_shortlisted_results": [
          "8334416543894",
          "8308888961174",
          "8387162898582",
          "8386552725654",
          "8334417199254",
          "8334417330326",
          "8387162767510",
          "8347272052886",
          "8387162800278",
          "8387162996886",
          "8334416969878",
          "8335871312022",
          "8335871279254",
          "8334416937110",
          "8334416281750",
          "8335871344790",
          "8387157459094",
          "8337768448150",
          "8297101787286",
          "8394789421206",
          "8377985269910",
          "8334417199254",
          "8377984974998",
          "8334416576662",
          "8398549745814",
          "8269505724566",
          "8334416609430",
          "8245861384342",
          "8351607849110",
          "8347270381718",
          "8334416609430",
          "8245861384342",
          "8367416213654",
          "8334417920150",
          "8036530520214",
          "8334416576662",
          "8386552725654",
          "8334416543894",
          "8394798137494",
          "8394798071958"
        ],
        "final_products": [
          "8334416543894",
          "8308888961174",
          "8387162898582",
          "8386552725654",
          "8334417199254",
          "8334417330326",
          "8387162767510",
          "8347272052886",
          "8387162800278",
          "8387162996886",
          "8334416969878",
          "8335871312022",
          "8335871279254",
          "8334416937110",
          "8334416281750",
          "8335871344790",
          "8387157459094",
          "8337768448150",
          "8297101787286",
          "8394789421206",
          "8377985269910",
          "8334417199254",
          "8377984974998",
          "8334416576662",
          "8398549745814",
          "8269505724566",
          "8334416609430",
          "8245861384342",
          "8351607849110",
          "8347270381718",
          "8334416609430",
          "8245861384342",
          "8367416213654",
          "8334417920150",
          "8036530520214",
          "8334416576662",
          "8386552725654",
          "8334416543894",
          "8394798137494",
          "8394798071958"
        ],
        "total_products_found": 40,
        "total_reranked": 40,
        "total_shortlisted": 0.0,
        "has_products": true,
        "total_time": 2.7070696353912354,
        "step_times": {
          "pinecone_search": 1.8919668197631836,
          "groq_filtering": 0.8151028156280518
        },
        "matches_found": 10,
        "matches_after_filtering": 4
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "cotton kurta sets for summer",
        "search_query": "breathable fabric kurta summer",
        "best_match": {
          "score": 0.510671079158783,
          "text": "breathable fabric kurta summer",
          "original_message": "Hi! Looking for a breathable fabric kurta for summer travel.",
          "query_type": "basic",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.367741584777832,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 3.7174527645111084,
        "method2_time": 2.7070696353912354,
        "method3_time": 1.367741584777832,
        "speedup_2vs1": 1.3732386917242523,
        "speedup_3vs1": 2.717949652101095,
        "speedup_3vs2": 1.97922594846815,
        "savings_2vs1": 27.1794476789472,
        "savings_3vs1": 63.2075598152837,
        "savings_3vs2": 49.47519757539738
      }
    },
    {
      "query": "formal sarees for weddings",
      "method1_result": {
        "status": "success",
        "method": "direct_chatbot_flow",
        "original_query": "formal sarees for weddings",
        "search_query": "formal wedding sarees for women in silk and georgette fabrics",
        "product_attributes_for_search": {
          "Sarees": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material used to make the saree",
                "possible_values": [
                  "silk",
                  "georgette"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose the saree is suited for",
                "possible_values": [
                  "wedding",
                  "formal"
                ],
                "weight": 5
              }
            ]
          }
        },
        "attribute_results_by_product_type": {
          "Sarees": {
            "The material used to make the saree": [],
            "The event or purpose the saree is suited for": [
              "saree_style"
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Sarees": {
            "The event or purpose the saree is suited for": {
              "value_mapping": {
                "wedding": {
                  "saree_style": {
                    "values": [
                      "classic"
                    ]
                  }
                },
                "formal": {
                  "saree_style": {
                    "values": [
                      "semi-formal",
                      "elegant"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "saree_style"
              ]
            }
          }
        },
        "shortlist_results": {
          "Sarees": {
            "8358912589974": 5,
            "8358911475862": 5,
            "8358912557206": 5,
            "8358911344790": 5,
            "8358911574166": 5,
            "8358911312022": 5,
            "8358911279254": 5,
            "8358911377558": 5,
            "8405772042390": 5,
            "8383505072278": 5
          }
        },
        "sorted_shortlist_results": {
          "8358912589974": 5,
          "8358911475862": 5,
          "8358912557206": 5,
          "8358911344790": 5,
          "8358911574166": 5,
          "8358911312022": 5,
          "8358911279254": 5,
          "8358911377558": 5,
          "8405772042390": 5,
          "8383505072278": 5
        },
        "reranked_shortlisted_results": {
          "8383505072278": 0.59765625,
          "8405772042390": 0.53515625,
          "8358911344790": 0.5,
          "8358911475862": 0.48828125,
          "8358911312022": 0.486328125,
          "8358911279254": 0.4765625,
          "8358912557206": 0.474609375,
          "8358911377558": 0.47265625,
          "8358911574166": 0.466796875,
          "8358912589974": 0.46484375
        },
        "final_products": [],
        "total_products_found": 0,
        "total_time": 3.165869951248169,
        "step_times": {
          "generate_search_query": 0.7419953346252441,
          "get_search_attributes": 0.6089677810668945,
          "run_attribute_search": 0.5843205451965332,
          "map_search_values": 0.8544700145721436,
          "run_all_shortlists": 0.0010001659393310547,
          "merge_and_sort_shortlists": 0.0,
          "rerank_shortlisted_products": 0.37511610984802246
        }
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "formal sarees for weddings",
        "search_query": "silk sarees zari work wedding",
        "groq_filtering": {
          "analysis": "",
          "reasoning": "",
          "selected_indices": [
            0,
            1,
            2,
            4,
            9
          ],
          "original_matches": 10,
          "filtered_matches": 5
        },
        "best_match": {
          "score": 0.46965962648391724,
          "text": "silk sarees zari work wedding",
          "original_message": "need silk sarees with zari work for weddings",
          "result_type": "detailed",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Sarees": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the saree",
                "possible_values": [
                  "silk"
                ],
                "weight": 10
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative work on the saree",
                "possible_values": [
                  "zari"
                ],
                "weight": 5
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose of the saree",
                "possible_values": [
                  "wedding"
                ],
                "weight": 2
              }
            ]
          },
          "Lehengas": {
            "attributes": [
              {
                "attribute_name": "fabric",
                "attribute_description": "The primary material",
                "possible_values": [
                  "silk",
                  "velvet",
                  "georgette"
                ],
                "weight": 1
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative work",
                "possible_values": [
                  "zari",
                  "sequin",
                  "mirror work"
                ],
                "weight": 2
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or purpose",
                "possible_values": [
                  "wedding",
                  "festival",
                  "party"
                ],
                "weight": 4
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Sarees": {
            "The type of decorative work on the saree": {
              "value_mapping": {
                "zari": {
                  "pallu_style_design": {
                    "values": [
                      "multi-colored_pattern"
                    ]
                  },
                  "border_design": {
                    "values": [
                      "zari_border"
                    ]
                  },
                  "print_pattern": {
                    "values": [
                      "zari"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "pallu_style_design",
                "border_design",
                "print_pattern"
              ]
            }
          },
          "Lehengas": {
            "The primary material": {
              "value_mapping": {
                "silk": {
                  "fabric_type": {
                    "values": [
                      "chanderi_silk"
                    ]
                  }
                },
                "velvet": {
                  "fabric_type": {
                    "values": []
                  }
                },
                "georgette": {
                  "fabric_type": {
                    "values": [
                      "georgette"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_type"
              ]
            },
            "The type of decorative work": {
              "value_mapping": {
                "zari": {
                  "embellishment_type": {
                    "values": [
                      "embroidery",
                      "thread_work"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "embellished_belt"
                    ]
                  }
                },
                "sequin": {
                  "embellishment_type": {
                    "values": [
                      "sequins"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "sequins"
                    ]
                  }
                },
                "mirror work": {
                  "embellishment_type": {
                    "values": [
                      "mirror work"
                    ]
                  },
                  "trim_details": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "embellishment_type",
                "trim_details"
              ]
            },
            "The event or purpose": {
              "value_mapping": {
                "wedding": {
                  "suitable_occasion": {
                    "values": [
                      "weddings",
                      "sangeet"
                    ]
                  }
                },
                "festival": {
                  "suitable_occasion": {
                    "values": [
                      "festive celebrations",
                      "light_festivities"
                    ]
                  }
                },
                "party": {
                  "suitable_occasion": {
                    "values": [
                      "parties"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasion"
              ]
            }
          }
        },
        "shortlist_results": {
          "Sarees": {
            "8383508611222": 5,
            "8383508250774": 5,
            "8308887847062": 5,
            "8308887781526": 5,
            "8254027366550": 5,
            "8176360325270": 5,
            "8087761420438": 5,
            "7855701917846": 5,
            "8358912589974": 0,
            "8358911475862": 0
          },
          "Lehengas": {
            "8309346500758": 7,
            "7880887861398": 7,
            "7880887763094": 7,
            "7820088836246": 7,
            "7820088803478": 7,
            "7570301354134": 7,
            "7700400308374": 7,
            "7094010347670": 7,
            "7094010249366": 7,
            "8228426088598": 4
          }
        },
        "sorted_shortlist_results": {
          "8309346500758": 7,
          "7880887861398": 7,
          "7880887763094": 7,
          "7820088836246": 7,
          "7820088803478": 7,
          "7570301354134": 7,
          "7700400308374": 7,
          "7094010347670": 7,
          "7094010249366": 7,
          "8383508611222": 5,
          "8383508250774": 5,
          "8308887847062": 5,
          "8308887781526": 5,
          "8254027366550": 5,
          "8176360325270": 5,
          "8087761420438": 5,
          "7855701917846": 5,
          "8228426088598": 4,
          "8358912589974": 0,
          "8358911475862": 0
        },
        "reranked_shortlisted_results": [
          "8308887781526",
          "8383508250774",
          "8308887847062",
          "8176360325270",
          "8254027366550",
          "8087761420438",
          "8309346500758",
          "7855701917846",
          "7880887861398",
          "8383508611222",
          "8254027366550",
          "8308887781526",
          "8308887847062",
          "8176360325270",
          "8383508250774",
          "8087761420438",
          "8383508611222",
          "7855701917846",
          "8358911475862",
          "8358912589974",
          "8383505367190",
          "8383505301654",
          "8383505203350",
          "8405772042390",
          "8383505268886",
          "8383505236118",
          "8383505399958",
          "8358911377558",
          "8383505334422",
          "7872950010006",
          "7094010249366",
          "7880887763094",
          "7880887861398",
          "7820088836246",
          "8228426088598",
          "7141914771606",
          "8228426121366",
          "7820088803478",
          "7570301354134",
          "8309346500758",
          "7094010249366",
          "7880887763094",
          "7094010347670",
          "7700400308374",
          "7880887861398",
          "7141914771606",
          "7820088836246",
          "7570301354134",
          "8309346500758",
          "7820088803478"
        ],
        "final_products": [
          "8308887781526",
          "8383508250774",
          "8308887847062",
          "8176360325270",
          "8254027366550",
          "8087761420438",
          "8309346500758",
          "7855701917846",
          "7880887861398",
          "8383508611222",
          "8254027366550",
          "8308887781526",
          "8308887847062",
          "8176360325270",
          "8383508250774",
          "8087761420438",
          "8383508611222",
          "7855701917846",
          "8358911475862",
          "8358912589974",
          "8383505367190",
          "8383505301654",
          "8383505203350",
          "8405772042390",
          "8383505268886",
          "8383505236118",
          "8383505399958",
          "8358911377558",
          "8383505334422",
          "7872950010006",
          "7094010249366",
          "7880887763094",
          "7880887861398",
          "7820088836246",
          "8228426088598",
          "7141914771606",
          "8228426121366",
          "7820088803478",
          "7570301354134",
          "8309346500758",
          "7094010249366",
          "7880887763094",
          "7094010347670",
          "7700400308374",
          "7880887861398",
          "7141914771606",
          "7820088836246",
          "7570301354134",
          "8309346500758",
          "7820088803478"
        ],
        "total_products_found": 50,
        "total_reranked": 50,
        "total_shortlisted": 0.0,
        "has_products": true,
        "total_time": 2.806461811065674,
        "step_times": {
          "pinecone_search": 1.528881311416626,
          "groq_filtering": 1.2775804996490479
        },
        "matches_found": 10,
        "matches_after_filtering": 5
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "formal sarees for weddings",
        "search_query": "silk sarees zari work wedding",
        "best_match": {
          "score": 0.46965962648391724,
          "text": "silk sarees zari work wedding",
          "original_message": "need silk sarees with zari work for weddings",
          "query_type": "detailed",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.3317039012908936,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 3.165869951248169,
        "method2_time": 2.806461811065674,
        "method3_time": 1.3317039012908936,
        "speedup_2vs1": 1.1280645041259336,
        "speedup_3vs1": 2.3773077094535187,
        "speedup_3vs2": 2.107421783735271,
        "savings_2vs1": 11.352586989266431,
        "savings_3vs1": 57.93560942811757,
        "savings_3vs2": 52.548654108169856
      }
    },
    {
      "query": "casual co-ords for daily wear",
      "method1_result": {
        "status": "success",
        "method": "direct_chatbot_flow",
        "original_query": "casual co-ords for daily wear",
        "search_query": "Women's casual matching tops and pants sets for daily wear",
        "product_attributes_for_search": {
          "Co-Ords": {
            "attributes": [
              {
                "attribute_name": "color",
                "attribute_description": "The primary color",
                "possible_values": [
                  "white",
                  "black",
                  "pastel",
                  "neutral"
                ],
                "weight": 1
              },
              {
                "attribute_name": "pattern",
                "attribute_description": "The design or print on the fabric",
                "possible_values": [
                  "solid",
                  "striped",
                  "polka dot",
                  "floral"
                ],
                "weight": 2
              },
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the co-ord set",
                "possible_values": [
                  "cotton",
                  "polyester",
                  "linen",
                  "rayon"
                ],
                "weight": 4
              },
              {
                "attribute_name": "sleeveStyle",
                "attribute_description": "The style of the sleeves",
                "possible_values": [
                  "short",
                  "long",
                  "cap",
                  "bell"
                ],
                "weight": 8
              }
            ]
          }
        },
        "attribute_results_by_product_type": {
          "Co-Ords": {
            "The primary color": [
              "primary_color"
            ],
            "The design or print on the fabric": [
              "fabric_print_or_pattern"
            ],
            "The material of the co-ord set": [
              "fabric_material"
            ],
            "The style of the sleeves": [
              "sleeve_style_and_length",
              "cuff_style"
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Co-Ords": {
            "The primary color": {
              "value_mapping": {
                "white": {
                  "primary_color": {
                    "values": [
                      "white"
                    ]
                  }
                },
                "black": {
                  "primary_color": {
                    "values": [
                      "black"
                    ]
                  }
                },
                "pastel": {
                  "primary_color": {
                    "values": [
                      "mauve"
                    ]
                  }
                },
                "neutral": {
                  "primary_color": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "primary_color"
              ]
            },
            "The design or print on the fabric": {
              "value_mapping": {
                "solid": {
                  "fabric_print_or_pattern": {
                    "values": [
                      "solid"
                    ]
                  }
                },
                "striped": {
                  "fabric_print_or_pattern": {
                    "values": [
                      "striped"
                    ]
                  }
                },
                "polka dot": {
                  "fabric_print_or_pattern": {
                    "values": [
                      "polka dot"
                    ]
                  }
                },
                "floral": {
                  "fabric_print_or_pattern": {
                    "values": [
                      "floral"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_print_or_pattern"
              ]
            },
            "The material of the co-ord set": {
              "value_mapping": {
                "cotton": {
                  "fabric_material": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "polyester": {
                  "fabric_material": {
                    "values": [
                      "polyester"
                    ]
                  }
                },
                "linen": {
                  "fabric_material": {
                    "values": []
                  }
                },
                "rayon": {
                  "fabric_material": {
                    "values": [
                      "rayon"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            },
            "The style of the sleeves": {
              "value_mapping": {
                "short": {
                  "sleeve_style_and_length": {
                    "values": [
                      "short sleeves"
                    ]
                  },
                  "cuff_style": {
                    "values": [
                      "short sleeves"
                    ]
                  }
                },
                "long": {
                  "sleeve_style_and_length": {
                    "values": [
                      "long sleeves"
                    ]
                  },
                  "cuff_style": {
                    "values": [
                      "long sleeves"
                    ]
                  }
                },
                "cap": {
                  "sleeve_style_and_length": {
                    "values": [
                      "cape_sleeves"
                    ]
                  },
                  "cuff_style": {
                    "values": [
                      "cap_sleeves"
                    ]
                  }
                },
                "bell": {
                  "sleeve_style_and_length": {
                    "values": [
                      "bell shape"
                    ]
                  },
                  "cuff_style": {
                    "values": [
                      "bell shape"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "sleeve_style_and_length",
                "cuff_style"
              ]
            }
          }
        },
        "shortlist_results": {
          "Co-Ords": {
            "8370116395158": 15,
            "8370116198550": 15,
            "8281457229974": 15,
            "8245860008086": 15,
            "7925218345110": 15,
            "7570302304406": 15,
            "8370116329622": 14,
            "8370116100246": 14,
            "8370116133014": 14,
            "8335873900694": 14
          }
        },
        "sorted_shortlist_results": {
          "8370116395158": 15,
          "8370116198550": 15,
          "8281457229974": 15,
          "8245860008086": 15,
          "7925218345110": 15,
          "7570302304406": 15,
          "8370116329622": 14,
          "8370116100246": 14,
          "8370116133014": 14,
          "8335873900694": 14
        },
        "reranked_shortlisted_results": {
          "8370116395158": 0.6640625,
          "8370116133014": 0.65625,
          "8245860008086": 0.65625,
          "8370116198550": 0.65625,
          "8335873900694": 0.63671875,
          "8370116100246": 0.62109375,
          "8370116329622": 0.62109375,
          "7570302304406": 0.6171875,
          "7925218345110": 0.5390625,
          "8281457229974": 0.5234375
        },
        "final_products": [],
        "total_products_found": 0,
        "total_time": 9.414949417114258,
        "step_times": {
          "generate_search_query": 0.2585015296936035,
          "get_search_attributes": 0.806119441986084,
          "run_attribute_search": 2.1911041736602783,
          "map_search_values": 5.756059408187866,
          "run_all_shortlists": 0.004999876022338867,
          "merge_and_sort_shortlists": 0.0,
          "rerank_shortlisted_products": 0.3981649875640869
        }
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "casual co-ords for daily wear",
        "search_query": "trendy co-ords casual wear",
        "groq_filtering": {
          "analysis": "Groq filtering failed, using fallback",
          "error": "Error code: 400 - {'error': {'message': \"Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.\", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\\n   \"selected_indices\": [\\n      0,  // \"trendy co-ords casual wear\" - similar product type and occasion\\n      2,  // \"linen co-ords solid office wear\" - similar product type and fabric preference\\n      4   // \"traditional co-ords churidar\" - similar style attribute and product type\\n   ]\\n}'}}",
          "fallback_used": true
        },
        "best_match": {
          "score": 0.4456058144569397,
          "text": "trendy co-ords casual wear",
          "original_message": "Can you show me some trendy co-ords for a casual day out?",
          "result_type": "basic",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Co-Ords": {
            "attributes": [
              {
                "attribute_name": "style",
                "attribute_description": "The fashion style of the co-ords",
                "possible_values": [
                  "trendy",
                  "streetwear",
                  "boho"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The occasion the co-ords are suitable for",
                "possible_values": [
                  "casual",
                  "everyday",
                  "leisure"
                ],
                "weight": 5
              },
              {
                "attribute_name": "fabric",
                "attribute_description": "The material of the co-ords",
                "possible_values": [
                  "cotton",
                  "polyester",
                  "denim"
                ],
                "weight": 1
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Co-Ords": {
            "The fashion style of the co-ords": {
              "value_mapping": {
                "trendy": {
                  "upper_body_style": {
                    "values": []
                  },
                  "garment_silhouette": {
                    "values": []
                  }
                },
                "streetwear": {
                  "upper_body_style": {
                    "values": []
                  },
                  "garment_silhouette": {
                    "values": []
                  }
                },
                "boho": {
                  "upper_body_style": {
                    "values": [
                      "kaftan"
                    ]
                  },
                  "garment_silhouette": {
                    "values": [
                      "flowy",
                      "kaftan-style",
                      "loose"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "upper_body_style",
                "garment_silhouette"
              ]
            },
            "The occasion the co-ords are suitable for": {
              "value_mapping": {
                "casual": {
                  "suitable_occasion": {
                    "values": [
                      "casual"
                    ]
                  }
                },
                "everyday": {
                  "suitable_occasion": {
                    "values": [
                      "business casual"
                    ]
                  }
                },
                "leisure": {
                  "suitable_occasion": {
                    "values": [
                      "casual",
                      "poolside",
                      "warm weather"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasion"
              ]
            },
            "The material of the co-ords": {
              "value_mapping": {
                "cotton": {
                  "fabric_material": {
                    "values": [
                      "cotton"
                    ]
                  }
                },
                "polyester": {
                  "fabric_material": {
                    "values": [
                      "polyester"
                    ]
                  }
                },
                "denim": {
                  "fabric_material": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_material"
              ]
            }
          }
        },
        "shortlist_results": {
          "Co-Ords": {
            "8351604801686": 16,
            "8370116329622": 16,
            "8370116427926": 16,
            "8370116558998": 16,
            "8351596937366": 16,
            "8337764810902": 16,
            "8337764712598": 16,
            "8330952081558": 16,
            "8328635711638": 16,
            "8328635646102": 16
          }
        },
        "sorted_shortlist_results": {
          "8351604801686": 16,
          "8370116329622": 16,
          "8370116427926": 16,
          "8370116558998": 16,
          "8351596937366": 16,
          "8337764810902": 16,
          "8337764712598": 16,
          "8330952081558": 16,
          "8328635711638": 16,
          "8328635646102": 16
        },
        "reranked_shortlisted_results": {
          "8351596937366": 0.61328125,
          "8351604801686": 0.609375,
          "8370116427926": 0.6015625,
          "8328635711638": 0.6015625,
          "8370116329622": 0.59375,
          "8370116558998": 0.59375,
          "8337764810902": 0.5859375,
          "8330952081558": 0.57421875,
          "8328635646102": 0.5703125,
          "8337764712598": 0.5390625
        },
        "final_products": [],
        "total_products_found": 0.0,
        "total_reranked": 0.0,
        "total_shortlisted": 0.0,
        "has_products": false,
        "total_time": 2.7578368186950684,
        "step_times": {
          "pinecone_search": 1.7844502925872803,
          "groq_filtering": 0.9733865261077881
        },
        "matches_found": 10,
        "matches_after_filtering": 0
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "casual co-ords for daily wear",
        "search_query": "trendy co-ords casual wear",
        "best_match": {
          "score": 0.4456058144569397,
          "text": "trendy co-ords casual wear",
          "original_message": "Can you show me some trendy co-ords for a casual day out?",
          "query_type": "basic",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.787445306777954,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 9.414949417114258,
        "method2_time": 2.7578368186950684,
        "method3_time": 1.787445306777954,
        "speedup_2vs1": 3.4138892313320954,
        "speedup_3vs1": 5.26726573474051,
        "speedup_3vs2": 1.542892981529231,
        "savings_2vs1": 70.70789553386297,
        "savings_3vs1": 81.01481773732336,
        "savings_3vs2": 35.18669071857111
      }
    },
    {
      "query": "traditional lehengas for ceremonies",
      "method1_result": {
        "status": "success",
        "method": "direct_chatbot_flow",
        "original_query": "traditional lehengas for ceremonies",
        "search_query": "red traditional lehengas for women's Indian wedding ceremony",
        "product_attributes_for_search": {
          "Lehengas": {
            "attributes": [
              {
                "attribute_name": "color",
                "attribute_description": "The primary color",
                "possible_values": [
                  "red"
                ],
                "weight": 10
              },
              {
                "attribute_name": "fabric",
                "attribute_description": "The type of fabric used",
                "possible_values": [
                  "silk",
                  "net",
                  "georgette",
                  "velvet"
                ],
                "weight": 5
              },
              {
                "attribute_name": "embellishment",
                "attribute_description": "The type of decorative elements used",
                "possible_values": [
                  "embroidery",
                  "zari",
                  "mirror work",
                  "sequins"
                ],
                "weight": 2
              },
              {
                "attribute_name": "length",
                "attribute_description": "The length of the lehenga",
                "possible_values": [
                  "floor length",
                  "ankle length"
                ],
                "weight": 1
              }
            ]
          }
        },
        "attribute_results_by_product_type": {
          "Lehengas": {
            "The primary color": [
              "primary_color"
            ],
            "The type of fabric used": [
              "fabric_type",
              "fabric_texture"
            ],
            "The type of decorative elements used": [
              "embellishment_type",
              "trim_details"
            ],
            "The length of the lehenga": [
              "garment_length"
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Lehengas": {
            "The primary color": {
              "value_mapping": {
                "red": {
                  "primary_color": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "primary_color"
              ]
            },
            "The type of fabric used": {
              "value_mapping": {
                "silk": {
                  "fabric_type": {
                    "values": [
                      "chanderi_silk"
                    ]
                  },
                  "fabric_texture": {
                    "values": []
                  }
                },
                "net": {
                  "fabric_type": {
                    "values": []
                  },
                  "fabric_texture": {
                    "values": []
                  }
                },
                "georgette": {
                  "fabric_type": {
                    "values": [
                      "georgette"
                    ]
                  },
                  "fabric_texture": {
                    "values": []
                  }
                },
                "velvet": {
                  "fabric_type": {
                    "values": []
                  },
                  "fabric_texture": {
                    "values": []
                  }
                }
              },
              "mapped_attributes": [
                "fabric_type",
                "fabric_texture"
              ]
            },
            "The type of decorative elements used": {
              "value_mapping": {
                "embroidery": {
                  "embellishment_type": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "embroidered borders"
                    ]
                  }
                },
                "zari": {
                  "embellishment_type": {
                    "values": [
                      "embroidery",
                      "thread_work"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "embellished_belt"
                    ]
                  }
                },
                "mirror work": {
                  "embellishment_type": {
                    "values": [
                      "mirror work"
                    ]
                  },
                  "trim_details": {
                    "values": []
                  }
                },
                "sequins": {
                  "embellishment_type": {
                    "values": [
                      "sequins"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "sequins"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "embellishment_type",
                "trim_details"
              ]
            },
            "The length of the lehenga": {
              "value_mapping": {
                "floor length": {
                  "garment_length": {
                    "values": [
                      "floor-length"
                    ]
                  }
                },
                "ankle length": {
                  "garment_length": {
                    "values": [
                      "ankle-length"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "garment_length"
              ]
            }
          }
        },
        "shortlist_results": {
          "Lehengas": {
            "7880887861398": 8,
            "7880887763094": 8,
            "7820088803478": 8,
            "7700400308374": 8,
            "7094010347670": 8,
            "7094010249366": 8,
            "8309346500758": 7,
            "7820088836246": 7,
            "7570301354134": 7,
            "8228426088598": 1
          }
        },
        "sorted_shortlist_results": {
          "7880887861398": 8,
          "7880887763094": 8,
          "7820088803478": 8,
          "7700400308374": 8,
          "7094010347670": 8,
          "7094010249366": 8,
          "8309346500758": 7,
          "7820088836246": 7,
          "7570301354134": 7,
          "8228426088598": 1
        },
        "reranked_shortlisted_results": {
          "7094010249366": 0.63671875,
          "7880887763094": 0.625,
          "7820088836246": 0.62109375,
          "7094010347670": 0.62109375,
          "7880887861398": 0.6171875,
          "8228426088598": 0.59375,
          "7700400308374": 0.55859375,
          "7570301354134": 0.515625,
          "7820088803478": 0.515625,
          "8309346500758": 0.51171875
        },
        "final_products": [],
        "total_products_found": 0,
        "total_time": 11.030501365661621,
        "step_times": {
          "generate_search_query": 0.7247157096862793,
          "get_search_attributes": 0.838432788848877,
          "run_attribute_search": 1.4727017879486084,
          "map_search_values": 7.633138418197632,
          "run_all_shortlists": 0.004020214080810547,
          "merge_and_sort_shortlists": 0.0,
          "rerank_shortlisted_products": 0.35749244689941406
        }
      },
      "method2_result": {
        "status": "success",
        "method": "pinecone_reranked_search_with_groq",
        "original_query": "traditional lehengas for ceremonies",
        "search_query": "elegant embroidered lehengas weddings",
        "groq_filtering": {
          "analysis": "Groq filtering failed, using fallback",
          "error": "Error code: 400 - {'error': {'message': \"Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.\", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\\n   \"selected_indices\": [0, 1, 4, 8],\\n}'}}",
          "fallback_used": true
        },
        "best_match": {
          "score": 0.48013630509376526,
          "text": "elegant embroidered lehengas weddings",
          "original_message": "need elegant lehengas with intricate embroidery for weddings",
          "result_type": "detailed",
          "pipeline_stage": "complete"
        },
        "product_attributes_for_search": {
          "Lehengas": {
            "attributes": [
              {
                "attribute_name": "embroidery",
                "attribute_description": "Type of embroidery on the lehenga",
                "possible_values": [
                  "zardosi",
                  "mirror work",
                  "thread embroidery"
                ],
                "weight": 10
              },
              {
                "attribute_name": "occasion",
                "attribute_description": "The event or occasion the lehenga is suitable for",
                "possible_values": [
                  "wedding",
                  "reception",
                  "engagement"
                ],
                "weight": 5
              },
              {
                "attribute_name": "style",
                "attribute_description": "The aesthetic or design style of the lehenga",
                "possible_values": [
                  "elegant",
                  "traditional",
                  "contemporary"
                ],
                "weight": 2
              }
            ]
          }
        },
        "mapped_attributes_and_values": {
          "Lehengas": {
            "Type of embroidery on the lehenga": {
              "value_mapping": {
                "zardosi": {
                  "embellishment_type": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "pattern_design": {
                    "values": [
                      "Bandhani-inspired print"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "embellished_belt"
                    ]
                  }
                },
                "mirror work": {
                  "embellishment_type": {
                    "values": [
                      "mirror work"
                    ]
                  },
                  "pattern_design": {
                    "values": []
                  },
                  "trim_details": {
                    "values": []
                  }
                },
                "thread embroidery": {
                  "embellishment_type": {
                    "values": [
                      "embroidery",
                      "thread_work"
                    ]
                  },
                  "pattern_design": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "trim_details": {
                    "values": [
                      "thread work",
                      "embroidered borders"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "embellishment_type",
                "pattern_design",
                "trim_details"
              ]
            },
            "The event or occasion the lehenga is suitable for": {
              "value_mapping": {
                "wedding": {
                  "suitable_occasion": {
                    "values": [
                      "weddings",
                      "sangeet"
                    ]
                  }
                },
                "reception": {
                  "suitable_occasion": {
                    "values": [
                      "weddings",
                      "parties"
                    ]
                  }
                },
                "engagement": {
                  "suitable_occasion": {
                    "values": [
                      "weddings"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "suitable_occasion"
              ]
            },
            "The aesthetic or design style of the lehenga": {
              "value_mapping": {
                "elegant": {
                  "skirt_silhouette": {
                    "values": [
                      "flowy"
                    ]
                  },
                  "pattern_design": {
                    "values": [
                      "embroidery"
                    ]
                  },
                  "dupatta_style": {
                    "values": [
                      "draped over shoulder and across arm"
                    ]
                  }
                },
                "traditional": {
                  "skirt_silhouette": {
                    "values": [
                      "traditional"
                    ]
                  },
                  "pattern_design": {
                    "values": []
                  },
                  "dupatta_style": {
                    "values": [
                      "draped over shoulder and across arm"
                    ]
                  }
                },
                "contemporary": {
                  "skirt_silhouette": {
                    "values": [
                      "contemporary"
                    ]
                  },
                  "pattern_design": {
                    "values": [
                      "contemporary"
                    ]
                  },
                  "dupatta_style": {
                    "values": [
                      "contemporary"
                    ]
                  }
                }
              },
              "mapped_attributes": [
                "skirt_silhouette",
                "pattern_design",
                "dupatta_style"
              ]
            }
          }
        },
        "shortlist_results": {
          "Lehengas": {
            "7880887861398": 17,
            "7880887763094": 17,
            "7820088836246": 17,
            "7820088803478": 17,
            "7570301354134": 17,
            "7700400308374": 17,
            "7094010347670": 17,
            "7094010249366": 17,
            "7141914771606": 17,
            "8228426088598": 15
          }
        },
        "sorted_shortlist_results": {
          "7880887861398": 17,
          "7880887763094": 17,
          "7820088836246": 17,
          "7820088803478": 17,
          "7570301354134": 17,
          "7700400308374": 17,
          "7094010347670": 17,
          "7094010249366": 17,
          "7141914771606": 17,
          "8228426088598": 15
        },
        "reranked_shortlisted_results": {
          "7880887763094": 0.62890625,
          "7094010249366": 0.6171875,
          "7094010347670": 0.58203125,
          "7141914771606": 0.5703125,
          "7880887861398": 0.55859375,
          "7570301354134": 0.5546875,
          "7700400308374": 0.546875,
          "7820088836246": 0.53515625,
          "7820088803478": 0.5234375,
          "8228426088598": 0.494140625
        },
        "final_products": [],
        "total_products_found": 0.0,
        "total_reranked": 0.0,
        "total_shortlisted": 0.0,
        "has_products": false,
        "total_time": 3.103076696395874,
        "step_times": {
          "pinecone_search": 1.9881513118743896,
          "groq_filtering": 1.1149253845214844
        },
        "matches_found": 10,
        "matches_after_filtering": 0
      },
      "method3_result": {
        "status": "success",
        "method": "pinecone_basic_search",
        "original_query": "traditional lehengas for ceremonies",
        "search_query": "elegant embroidered lehengas weddings",
        "best_match": {
          "score": 0.48013630509376526,
          "text": "elegant embroidered lehengas weddings",
          "original_message": "need elegant lehengas with intricate embroidery for weddings",
          "query_type": "detailed",
          "customer_type": "recommendation_system_generated"
        },
        "mapped_attributes_and_values": {},
        "total_time": 1.8413734436035156,
        "matches_found": 5,
        "final_products": [],
        "total_products_found": 0,
        "note": "Method 3 provides mapped attributes only, no product reranking"
      },
      "performance_metrics": {
        "method1_time": 11.030501365661621,
        "method2_time": 3.103076696395874,
        "method3_time": 1.8413734436035156,
        "speedup_2vs1": 3.554698270420838,
        "speedup_3vs1": 5.990366269253478,
        "speedup_3vs2": 1.6851968334697176,
        "savings_2vs1": 71.86821710520002,
        "savings_3vs1": 83.30652993402656,
        "savings_3vs2": 40.659750829162135
      }
    }
  ],
  "statistics": {
    "total_queries": 8,
    "successful_method1": 7,
    "successful_method2": 8,
    "successful_method3": 8,
    "method1_stats": {
      "avg_time": 7.549287217003958,
      "median_time": 4.807101249694824,
      "min_time": 3.165869951248169,
      "max_time": 16.567086458206177,
      "std_dev": 4.999106699567616
    },
    "method2_stats": {
      "avg_time": 2.815836489200592,
      "median_time": 2.782149314880371,
      "min_time": 2.2913904190063477,
      "max_time": 3.3267054557800293,
      "std_dev": 0.30497813163901094,
      "pinecone_avg": 1.8616920113563538,
      "groq_avg": 0.9541444778442383,
      "pinecone_min": 1.528881311416626,
      "pinecone_max": 2.173187732696533,
      "groq_min": 0.720482349395752,
      "groq_max": 1.2775804996490479
    },
    "method3_stats": {
      "avg_time": 1.5273051857948303,
      "median_time": 1.494220495223999,
      "min_time": 1.3276948928833008,
      "max_time": 1.8413734436035156,
      "std_dev": 0.2010847543821743
    },
    "overall_performance": {
      "speedup_2vs1": 2.6810105082298934,
      "speedup_3vs1": 4.942880628716786,
      "speedup_3vs2": 1.8436632805218902,
      "savings_2vs1": 62.70063108927393,
      "savings_3vs1": 79.76888225480758,
      "savings_3vs2": 45.76016073190287
    }
  },
  "timestamp": "2025-07-13 12:30:58"
}